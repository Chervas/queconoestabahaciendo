import{a as ke,b as Te,c as nt,d as be,e as ye,f as xe,g as re,h as st,j as ct,k as lt,l as dt,m as pt,n as de,o as mt}from"./chunk-4K3KITG2.js";import{$a as ce,Aa as Ge,Ab as ve,Ca as v,Ga as W,Ib as K,Jb as J,Lb as Xe,Ma as q,Na as Ke,Pa as te,Qb as fe,Rb as X,Sa as G,Sb as et,Tb as _e,U as pe,V as Ve,X as We,Ya as ie,Z as me,Za as B,_ as ue,_a as ge,a as L,ab as Je,b as U,cc as tt,dc as it,ec as at,fb as c,fd as rt,ga as j,gb as p,gc as ae,ha as V,hb as Y,ia as Oe,ja as $e,jd as ot,kb as he,lb as Ie,ld as ne,nb as O,nd as oe,ob as w,od as Me,pa as Ae,pd as Ce,sa as Ue,sb as Ze,tb as Qe,ua as se,ub as Ye,wa as qe,xb as le,xd as De,yb as f,zb as A}from"./chunk-XJQRPAJU.js";var F=function(n){return n.TASK_CREATED="task_created",n.TASK_ACTIVATED="task_activated",n.TASK_COMPLETED="task_completed",n.TASK_DELETED="task_deleted",n.HABIT_CREATED="habit_created",n.HABIT_COMPLETED="habit_completed",n.HABIT_UPDATED="habit_updated",n.HABIT_DELETED="habit_deleted",n.PHASE_COMPLETED="phase_completed",n.SYSTEM="system",n}(F||{});var ut=(()=>{class n{constructor(t){this.eventBus=t,this.historyEntries=se([]),this.localStorageKey="queconoestabahaciendo_history",this.loadHistoryFromLocalStorage(),_e(()=>{this.saveHistoryToLocalStorage()}),this.eventBus.on(de.HABIT_COMPLETED).subscribe(i=>{this.addHistoryEntry({title:`H\xE1bito completado: ${i.habit.name}`,description:`Has completado tu h\xE1bito "${i.habit.name}"`,type:F.HABIT_COMPLETED,relatedId:i.habit.id})}),this.eventBus.on(de.HABIT_CREATED).subscribe(i=>{this.addHistoryEntry({title:`H\xE1bito creado: ${i.habit.name}`,description:`Has creado un nuevo h\xE1bito: ${i.habit.name}`,type:F.HABIT_CREATED,relatedId:i.habit.id,metadata:{habitName:i.habit.name}})}),this.eventBus.on(de.HABIT_UPDATED).subscribe(i=>{this.addHistoryEntry({title:`H\xE1bito actualizado: ${i.habit.name}`,description:`Has actualizado el h\xE1bito: ${i.habit.name}`,type:F.HABIT_UPDATED,relatedId:i.habit.id,metadata:{habitName:i.habit.name}})}),this.eventBus.on(de.HABIT_DELETED).subscribe(i=>{this.addHistoryEntry({title:`H\xE1bito eliminado: ${i.habit.name}`,description:`Has eliminado el h\xE1bito: ${i.habit.name}`,type:F.HABIT_DELETED,relatedId:i.habit.id,metadata:{habitName:i.habit.name}})})}loadHistoryFromLocalStorage(){let t=localStorage.getItem(this.localStorageKey);t?this.historyEntries.set(JSON.parse(t)):this.historyEntries.set([])}saveHistoryToLocalStorage(){localStorage.setItem(this.localStorageKey,JSON.stringify(this.historyEntries()))}generateId(){return"hist_"+Math.random().toString(36).substring(2,9)}addHistoryEntry(t){let i={id:this.generateId(),timestamp:Date.now(),title:t.title,type:t.type,description:t.description,relatedId:t.relatedId,metadata:t.metadata};this.historyEntries.update(r=>[i,...r])}getHistoryEntries(){return this.historyEntries.asReadonly()}getHabitHistoryEntries(){return et(()=>this.historyEntries().filter(t=>t.type===F.HABIT_COMPLETED||t.type===F.HABIT_CREATED||t.type===F.HABIT_UPDATED||t.type===F.HABIT_DELETED))}clearHistory(){this.historyEntries.set([])}static{this.\u0275fac=function(i){return new(i||n)(me(mt))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var I=function(n){return n.URGENT="urgente",n.HIGH="alta",n.NORMAL="media",n.LOW="baja",n}(I||{});var gt=(()=>{class n{constructor(t){this._snackBar=t,this.tasksSignal=se([]),this.activeTaskSignal=se(null),this.tasks$=De(this.tasksSignal),this.activeTask$=De(this.activeTaskSignal),this.localStorageKey="queconoestabahaciendo_tasks_v7",this.activeTaskStorageKey="queconoestabahaciendo_activeTask_v7",this.loadTasksFromLocalStorage(),this.loadActiveTaskFromLocalStorage(),_e(()=>{let i=this.tasksSignal(),r=this.activeTaskSignal();this.saveTasksToLocalStorage(i),this.saveActiveTaskToLocalStorage(r)})}showNotification(t){this._snackBar.open(t,"Cerrar",{duration:3e3,panelClass:["app-notification-success"]})}notifyTaskPaused(t){this.showNotification(`La tarea "${t}" se ha pausado.`)}notifyTaskResumed(t){this.showNotification(`Se ha reanudado la tarea "${t}".`)}saveTasksToLocalStorage(t){try{let i=JSON.stringify(t);localStorage.setItem(this.localStorageKey,i)}catch(i){console.error("[TaskService] saveTasksToLocalStorage: Error saving tasks:",i)}}saveActiveTaskToLocalStorage(t){try{let i=JSON.stringify(t);localStorage.setItem(this.activeTaskStorageKey,i)}catch(i){console.error("[TaskService] saveActiveTaskToLocalStorage: Error saving active task:",i)}}loadTasksFromLocalStorage(){let t=localStorage.getItem(this.localStorageKey);if(t)try{let i=JSON.parse(t);this.tasksSignal.set(i)}catch(i){console.error("[TaskService] loadTasksFromLocalStorage: Error parsing tasks:",i),this.tasksSignal.set(this.getSampleTasks())}else this.tasksSignal.set(this.getSampleTasks())}getSampleTasks(){return[{id:this.generateId(),title:"Tarea Urgente de Prueba con Descripci\xF3n Larga",priority:I.URGENT,description:"Esta es una tarea urgente de prueba para validar colores y el bot\xF3n expandir. Necesita ser lo suficientemente larga como para que el bot\xF3n de expandir aparezca y se pueda probar su funcionalidad y estilo correctamente. Por lo tanto, a\xF1ado m\xE1s texto para asegurar que se cumpla la condici\xF3n de truncamiento.",createdAt:Date.now()-1e3*60*60*2,isActive:!1,elapsedTime:0,lastActivatedAt:void 0,wasPreviouslyActive:!1,lastDeactivatedAt:void 0},{id:this.generateId(),title:"Tarea Alta de Prueba (descripci\xF3n corta)",priority:I.HIGH,description:"Esta es una tarea de prioridad alta con descripci\xF3n corta.",createdAt:Date.now()-1e3*60*30,isActive:!1,elapsedTime:0,lastActivatedAt:void 0,wasPreviouslyActive:!1,lastDeactivatedAt:void 0}]}loadActiveTaskFromLocalStorage(){let t=localStorage.getItem(this.activeTaskStorageKey);if(t)try{let i=JSON.parse(t);this.activeTaskSignal.set(i)}catch(i){console.error("[TaskService] loadActiveTaskFromLocalStorage: Error parsing active task:",i),this.activeTaskSignal.set(null)}else this.activeTaskSignal.set(null)}loadTasks(){this.loadTasksFromLocalStorage(),this.loadActiveTaskFromLocalStorage()}generateId(){return"_"+Math.random().toString(36).substring(2,9)}addTask(t){let i={id:this.generateId(),title:t.title,priority:t.priority,description:t.description||"",createdAt:Date.now(),isActive:!1,elapsedTime:0,lastActivatedAt:void 0,wasPreviouslyActive:!1,lastDeactivatedAt:void 0};return this.tasksSignal.update(r=>[...r,i]),this.showNotification(`Se ha creado la tarea "${i.title}"`),i}updateTask(t){let i="";this.tasksSignal.update(s=>s.map(k=>k.id===t.id?(i=t.title||k.title,L(L({},k),t)):k));let r=X(this.activeTaskSignal);r&&r.id===t.id&&this.activeTaskSignal.set(U(L(L({},r),t),{isActive:!0})),i&&!t.isPaused&&t.isPaused!==void 0&&this.showNotification(`La tarea "${i}" se ha editado correctamente`)}deleteTask(t,i=!0){let r="",s=X(this.activeTaskSignal);s&&s.id===t&&(r=s.title,this.activeTaskSignal.set(null)),this.tasksSignal.update(k=>{let D=k.find(y=>y.id===t);return D&&!r&&(r=D.title),k.filter(y=>y.id!==t)}),r&&i&&this.showNotification(`Se ha eliminado la tarea "${r}"`)}setActiveTask(t){let i=Date.now(),r=X(this.activeTaskSignal);if(r&&r.id===t)return;let s=null,k=null;this.tasksSignal.update(D=>D.map(y=>{let S=L({},y);if(r&&y.id===r.id){let Z=r.lastActivatedAt?(i-r.lastActivatedAt)/1e3:0;S.elapsedTime=(r.elapsedTime||0)+Z,S.isActive=!1,S.lastActivatedAt=void 0,S.wasPreviouslyActive=!0,S.lastDeactivatedAt=i}return t&&y.id===t?(s=U(L({},S),{isActive:!0,lastActivatedAt:i,wasPreviouslyActive:!1,lastDeactivatedAt:void 0}),k=s.title,s):(y.id!==t&&(S.isActive=!1),S)})),this.activeTaskSignal.set(s),k&&this.showNotification(`Se ha empezado a trabajar en "${k}"`)}updateTaskElapsedTime(t,i){this.tasksSignal.update(s=>s.map(k=>k.id===t?U(L({},k),{elapsedTime:i}):k));let r=X(this.activeTaskSignal);r&&r.id===t&&this.activeTaskSignal.set(U(L({},r),{elapsedTime:i}))}completeActiveTask(t,i){let r=X(this.activeTaskSignal);r&&(this.updateTaskElapsedTime(r.id,t),this.showNotification(`\xA1Enhorabuena, has completado la tarea "${i}"!`),this.deleteTask(r.id,!1))}deactivateTask(t,i){let r=X(this.activeTaskSignal);r&&r.id===t&&(this.tasksSignal.update(s=>s.map(k=>k.id===t?U(L({},k),{isActive:!1,elapsedTime:i,lastActivatedAt:void 0,wasPreviouslyActive:!0,lastDeactivatedAt:Date.now()}):k)),this.activeTaskSignal.set(null))}static{this.\u0275fac=function(i){return new(i||n)(me(st))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ft=(()=>{class n{constructor(t,i){this.dialogRef=t,this.data=i}onPauseCurrent(){this.dialogRef.close("pause_current")}onCreateNew(){this.dialogRef.close("create_new")}onChooseOther(){this.dialogRef.close("choose_other")}static{this.\u0275fac=function(i){return new(i||n)(W(ke),W(Te))}}static{this.\u0275cmp=q({type:n,selectors:[["app-play-active-task-dialog"]],decls:15,vars:4,consts:[[1,"play-active-task-dialog-container"],["mat-dialog-title",""],[3,"innerHTML"],["align","end",1,"m3-dialog-actions"],["mat-flat-button","",1,"m3-pause-dialog-button-pause",3,"click"],["mat-stroked-button","",3,"click"],["mat-flat-button","","color","primary",3,"click"]],template:function(i,r){i&1&&(c(0,"div",0)(1,"h2",1),f(2,"Pausar Tarea"),p(),c(3,"mat-dialog-content"),Y(4,"p",2),p(),c(5,"mat-dialog-actions",3)(6,"button",4),O("click",function(){return r.onPauseCurrent()}),c(7,"mat-icon"),f(8,"pause"),p(),c(9,"span"),f(10),p()(),c(11,"button",5),O("click",function(){return r.onChooseOther()}),f(12),p(),c(13,"button",6),O("click",function(){return r.onCreateNew()}),f(14),p()()()),i&2&&(v(4),B("innerHTML",r.data.message,Ge),v(6),A(r.data.pauseCurrentButtonText),v(2),A(r.data.chooseOtherButtonText),v(2),A(r.data.createNewButtonText))},dependencies:[re,be,xe,ye,oe,ne,ae,Ce,Me],styles:[".play-active-task-dialog-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:16px}mat-dialog-actions[_ngcontent-%COMP%]{justify-content:flex-end;gap:8px}mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:0}.m3-pause-dialog-button-pause[_ngcontent-%COMP%]{background-color:var(--app-light-priority-normal-bg, #F0EAD6)!important;color:var(--app-light-priority-normal-text, #1C1B1F)!important;border:none!important}.m3-pause-dialog-button-pause[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}mat-dialog-actions[_ngcontent-%COMP%]   button[mat-stroked-button][_ngcontent-%COMP%]{border-color:var(--app-light-outline, #CAC4D0);color:var(--app-light-primary-action-text, #4E4C40)}mat-dialog-actions[_ngcontent-%COMP%]   button[mat-flat-button][color=primary][_ngcontent-%COMP%]{background-color:var(--app-light-add-button-bg, #7b965d)!important;color:var(--app-light-add-button-text, #FFFFFF)!important}"]})}}return n})();var _t=(()=>{class n{constructor(t,i){this.dialogRef=t,this.data=i}onConfirm(){this.dialogRef.close(!0)}onCancel(){this.dialogRef.close(!1)}static{this.\u0275fac=function(i){return new(i||n)(W(ke),W(Te))}}static{this.\u0275cmp=q({type:n,selectors:[["app-delete-confirmation-dialog"]],decls:11,vars:3,consts:[[1,"confirmation-dialog-container"],["mat-dialog-title",""],["align","end"],["mat-button","",3,"click"],["mat-flat-button","","color","warn","cdkFocusInitial","",3,"click"]],template:function(i,r){i&1&&(c(0,"div",0)(1,"h2",1),f(2,"Confirmar Eliminaci\xF3n"),p(),c(3,"mat-dialog-content")(4,"p"),f(5),p()(),c(6,"mat-dialog-actions",2)(7,"button",3),O("click",function(){return r.onCancel()}),f(8),p(),c(9,"button",4),O("click",function(){return r.onConfirm()}),f(10),p()()()),i&2&&(v(5),A(r.data.message),v(3),A(r.data.cancelButtonText),v(2),A(r.data.confirmButtonText))},dependencies:[ae,re,be,xe,ye,oe,ne],styles:[".confirmation-dialog-container[_ngcontent-%COMP%]{padding:20px}mat-dialog-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:20px;line-height:1.6}mat-dialog-actions[_ngcontent-%COMP%]{padding-top:16px}.dark-theme[_ngcontent-%COMP%]   .confirmation-dialog-container[_ngcontent-%COMP%]{background-color:var(--app-dark-surface-color, #303030);color:var(--app-dark-text-primary-color, #ffffff)}.dark-theme[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--app-dark-text-secondary-color, #e0e0e0)}.dark-theme[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]   button[mat-button][_ngcontent-%COMP%]{color:var(--app-dark-text-secondary-color, #e0e0e0)}"]})}}return n})();var Be={};(function n(C,t,i,r){var s=!!(C.Worker&&C.Blob&&C.Promise&&C.OffscreenCanvas&&C.OffscreenCanvasRenderingContext2D&&C.HTMLCanvasElement&&C.HTMLCanvasElement.prototype.transferControlToOffscreen&&C.URL&&C.URL.createObjectURL),k=typeof Path2D=="function"&&typeof DOMMatrix=="function",D=function(){if(!C.OffscreenCanvas)return!1;var a=new OffscreenCanvas(1,1),e=a.getContext("2d");e.fillRect(0,0,1,1);var o=a.transferToImageBitmap();try{e.createPattern(o,"no-repeat")}catch{return!1}return!0}();function y(){}function S(a){var e=t.exports.Promise,o=e!==void 0?e:C.Promise;return typeof o=="function"?new o(a):(a(y,y),null)}var Z=function(a,e){return{transform:function(o){if(a)return o;if(e.has(o))return e.get(o);var d=new OffscreenCanvas(o.width,o.height),m=d.getContext("2d");return m.drawImage(o,0,0),e.set(o,d),d},clear:function(){e.clear()}}}(D,new Map),Pe=function(){var a=Math.floor(16.666666666666668),e,o,d={},m=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(e=function(u){var g=Math.random();return d[g]=requestAnimationFrame(function l(h){m===h||m+a-1<h?(m=h,delete d[g],u()):d[g]=requestAnimationFrame(l)}),g},o=function(u){d[u]&&cancelAnimationFrame(d[u])}):(e=function(u){return setTimeout(u,a)},o=function(u){return clearTimeout(u)}),{frame:e,cancel:o}}(),yt=function(){var a,e,o={};function d(m){function u(g,l){m.postMessage({options:g||{},callback:l})}m.init=function(l){var h=l.transferControlToOffscreen();m.postMessage({canvas:h},[h])},m.fire=function(l,h,T){if(e)return u(l,null),e;var x=Math.random().toString(36).slice(2);return e=S(function(b){function M(E){E.data.callback===x&&(delete o[x],m.removeEventListener("message",M),e=null,Z.clear(),T(),b())}m.addEventListener("message",M),u(l,x),o[x]=M.bind(null,{data:{callback:x}})}),e},m.reset=function(){m.postMessage({reset:!0});for(var l in o)o[l](),delete o[l]}}return function(){if(a)return a;if(!i&&s){var m=["var CONFETTI, SIZE = {}, module = {};","("+n.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{a=new Worker(URL.createObjectURL(new Blob([m])))}catch(u){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("\u{1F38A} Could not load worker",u),null}d(a)}return a}}(),xt={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function Mt(a,e){return e?e(a):a}function Ct(a){return a!=null}function P(a,e,o){return Mt(a&&Ct(a[e])?a[e]:xt[e],o)}function Pt(a){return a<0?0:Math.floor(a)}function wt(a,e){return Math.floor(Math.random()*(e-a))+a}function we(a){return parseInt(a,16)}function St(a){return a.map(Et)}function Et(a){var e=String(a).replace(/[^0-9a-f]/gi,"");return e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),{r:we(e.substring(0,2)),g:we(e.substring(2,4)),b:we(e.substring(4,6))}}function Ot(a){var e=P(a,"origin",Object);return e.x=P(e,"x",Number),e.y=P(e,"y",Number),e}function At(a){a.width=document.documentElement.clientWidth,a.height=document.documentElement.clientHeight}function It(a){var e=a.getBoundingClientRect();a.width=e.width,a.height=e.height}function Dt(a){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex=a,e}function Bt(a,e,o,d,m,u,g,l,h){a.save(),a.translate(e,o),a.rotate(u),a.scale(d,m),a.arc(0,0,1,g,l,h),a.restore()}function Rt(a){var e=a.angle*(Math.PI/180),o=a.spread*(Math.PI/180);return{x:a.x,y:a.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:a.startVelocity*.5+Math.random()*a.startVelocity,angle2D:-e+(.5*o-Math.random()*o),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:a.color,shape:a.shape,tick:0,totalTicks:a.ticks,decay:a.decay,drift:a.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:a.gravity*3,ovalScalar:.6,scalar:a.scalar,flat:a.flat}}function Ft(a,e){e.x+=Math.cos(e.angle2D)*e.velocity+e.drift,e.y+=Math.sin(e.angle2D)*e.velocity+e.gravity,e.velocity*=e.decay,e.flat?(e.wobble=0,e.wobbleX=e.x+10*e.scalar,e.wobbleY=e.y+10*e.scalar,e.tiltSin=0,e.tiltCos=0,e.random=1):(e.wobble+=e.wobbleSpeed,e.wobbleX=e.x+10*e.scalar*Math.cos(e.wobble),e.wobbleY=e.y+10*e.scalar*Math.sin(e.wobble),e.tiltAngle+=.1,e.tiltSin=Math.sin(e.tiltAngle),e.tiltCos=Math.cos(e.tiltAngle),e.random=Math.random()+2);var o=e.tick++/e.totalTicks,d=e.x+e.random*e.tiltCos,m=e.y+e.random*e.tiltSin,u=e.wobbleX+e.random*e.tiltCos,g=e.wobbleY+e.random*e.tiltSin;if(a.fillStyle="rgba("+e.color.r+", "+e.color.g+", "+e.color.b+", "+(1-o)+")",a.beginPath(),k&&e.shape.type==="path"&&typeof e.shape.path=="string"&&Array.isArray(e.shape.matrix))a.fill(Nt(e.shape.path,e.shape.matrix,e.x,e.y,Math.abs(u-d)*.1,Math.abs(g-m)*.1,Math.PI/10*e.wobble));else if(e.shape.type==="bitmap"){var l=Math.PI/10*e.wobble,h=Math.abs(u-d)*.1,T=Math.abs(g-m)*.1,x=e.shape.bitmap.width*e.scalar,b=e.shape.bitmap.height*e.scalar,M=new DOMMatrix([Math.cos(l)*h,Math.sin(l)*h,-Math.sin(l)*T,Math.cos(l)*T,e.x,e.y]);M.multiplySelf(new DOMMatrix(e.shape.matrix));var E=a.createPattern(Z.transform(e.shape.bitmap),"no-repeat");E.setTransform(M),a.globalAlpha=1-o,a.fillStyle=E,a.fillRect(e.x-x/2,e.y-b/2,x,b),a.globalAlpha=1}else if(e.shape==="circle")a.ellipse?a.ellipse(e.x,e.y,Math.abs(u-d)*e.ovalScalar,Math.abs(g-m)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI):Bt(a,e.x,e.y,Math.abs(u-d)*e.ovalScalar,Math.abs(g-m)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI);else if(e.shape==="star")for(var _=Math.PI/2*3,R=4*e.scalar,N=8*e.scalar,H=e.x,$=e.y,Q=5,z=Math.PI/Q;Q--;)H=e.x+Math.cos(_)*N,$=e.y+Math.sin(_)*N,a.lineTo(H,$),_+=z,H=e.x+Math.cos(_)*R,$=e.y+Math.sin(_)*R,a.lineTo(H,$),_+=z;else a.moveTo(Math.floor(e.x),Math.floor(e.y)),a.lineTo(Math.floor(e.wobbleX),Math.floor(m)),a.lineTo(Math.floor(u),Math.floor(g)),a.lineTo(Math.floor(d),Math.floor(e.wobbleY));return a.closePath(),a.fill(),e.tick<e.totalTicks}function Lt(a,e,o,d,m){var u=e.slice(),g=a.getContext("2d"),l,h,T=S(function(x){function b(){l=h=null,g.clearRect(0,0,d.width,d.height),Z.clear(),m(),x()}function M(){i&&!(d.width===r.width&&d.height===r.height)&&(d.width=a.width=r.width,d.height=a.height=r.height),!d.width&&!d.height&&(o(a),d.width=a.width,d.height=a.height),g.clearRect(0,0,d.width,d.height),u=u.filter(function(E){return Ft(g,E)}),u.length?l=Pe.frame(M):b()}l=Pe.frame(M),h=b});return{addFettis:function(x){return u=u.concat(x),T},canvas:a,promise:T,reset:function(){l&&Pe.cancel(l),h&&h()}}}function Fe(a,e){var o=!a,d=!!P(e||{},"resize"),m=!1,u=P(e,"disableForReducedMotion",Boolean),g=s&&!!P(e||{},"useWorker"),l=g?yt():null,h=o?At:It,T=a&&l?!!a.__confetti_initialized:!1,x=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,b;function M(_,R,N){for(var H=P(_,"particleCount",Pt),$=P(_,"angle",Number),Q=P(_,"spread",Number),z=P(_,"startVelocity",Number),jt=P(_,"decay",Number),Vt=P(_,"gravity",Number),Wt=P(_,"drift",Number),Ne=P(_,"colors",St),$t=P(_,"ticks",Number),He=P(_,"shapes"),Ut=P(_,"scalar"),qt=!!P(_,"flat"),ze=Ot(_),je=H,Ee=[],Gt=a.width*ze.x,Kt=a.height*ze.y;je--;)Ee.push(Rt({x:Gt,y:Kt,angle:$,spread:Q,startVelocity:z,color:Ne[je%Ne.length],shape:He[wt(0,He.length)],ticks:$t,decay:jt,gravity:Vt,drift:Wt,scalar:Ut,flat:qt}));return b?b.addFettis(Ee):(b=Lt(a,Ee,h,R,N),b.promise)}function E(_){var R=u||P(_,"disableForReducedMotion",Boolean),N=P(_,"zIndex",Number);if(R&&x)return S(function(z){z()});o&&b?a=b.canvas:o&&!a&&(a=Dt(N),document.body.appendChild(a)),d&&!T&&h(a);var H={width:a.width,height:a.height};l&&!T&&l.init(a),T=!0,l&&(a.__confetti_initialized=!0);function $(){if(l){var z={getBoundingClientRect:function(){if(!o)return a.getBoundingClientRect()}};h(z),l.postMessage({resize:{width:z.width,height:z.height}});return}H.width=H.height=null}function Q(){b=null,d&&(m=!1,C.removeEventListener("resize",$)),o&&a&&(document.body.contains(a)&&document.body.removeChild(a),a=null,T=!1)}return d&&!m&&(m=!0,C.addEventListener("resize",$,!1)),l?l.fire(_,H,Q):M(_,H,Q)}return E.reset=function(){l&&l.reset(),b&&b.reset()},E}var Se;function Le(){return Se||(Se=Fe(null,{useWorker:!0,resize:!0})),Se}function Nt(a,e,o,d,m,u,g){var l=new Path2D(a),h=new Path2D;h.addPath(l,new DOMMatrix(e));var T=new Path2D;return T.addPath(h,new DOMMatrix([Math.cos(g)*m,Math.sin(g)*m,-Math.sin(g)*u,Math.cos(g)*u,o,d])),T}function Ht(a){if(!k)throw new Error("path confetti are not supported in this browser");var e,o;typeof a=="string"?e=a:(e=a.path,o=a.matrix);var d=new Path2D(e),m=document.createElement("canvas"),u=m.getContext("2d");if(!o){for(var g=1e3,l=g,h=g,T=0,x=0,b,M,E=0;E<g;E+=2)for(var _=0;_<g;_+=2)u.isPointInPath(d,E,_,"nonzero")&&(l=Math.min(l,E),h=Math.min(h,_),T=Math.max(T,E),x=Math.max(x,_));b=T-l,M=x-h;var R=10,N=Math.min(R/b,R/M);o=[N,0,0,N,-Math.round(b/2+l)*N,-Math.round(M/2+h)*N]}return{type:"path",path:e,matrix:o}}function zt(a){var e,o=1,d="#000000",m='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof a=="string"?e=a:(e=a.text,o="scalar"in a?a.scalar:o,m="fontFamily"in a?a.fontFamily:m,d="color"in a?a.color:d);var u=10*o,g=""+u+"px "+m,l=new OffscreenCanvas(u,u),h=l.getContext("2d");h.font=g;var T=h.measureText(e),x=Math.ceil(T.actualBoundingBoxRight+T.actualBoundingBoxLeft),b=Math.ceil(T.actualBoundingBoxAscent+T.actualBoundingBoxDescent),M=2,E=T.actualBoundingBoxLeft+M,_=T.actualBoundingBoxAscent+M;x+=M+M,b+=M+M,l=new OffscreenCanvas(x,b),h=l.getContext("2d"),h.font=g,h.fillStyle=d,h.fillText(e,E,_);var R=1/o;return{type:"bitmap",bitmap:l.transferToImageBitmap(),matrix:[R,0,0,R,-x*R/2,-b*R/2]}}t.exports=function(){return Le().apply(this,arguments)},t.exports.reset=function(){Le().reset()},t.exports.create=Fe,t.exports.shapeFromPath=Ht,t.exports.shapeFromText=zt})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Be,!1);var Re=Be.exports,Ri=Be.exports.create;var kt=(()=>{class n{transform(t,...i){if(!t)return"";let r=new Date().getTime(),s=new Date(t).getTime(),k=Math.floor((r-s)/1e3);if(k<29)return"Hace un momento";let D={a\u00F1o:31536e3,mes:2592e3,semana:604800,d\u00EDa:86400,hora:3600,minuto:60,segundo:1},y;for(let S in D)if(y=Math.floor(k/D[S]),y>0){if(y===1)return`Hace ${y} ${S}`;{let Z=S==="mes"?"meses":S+"s";return`Hace ${y} ${Z}`}}return"Hace un momento"}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275pipe=te({name:"timeAgo",type:n,pure:!0})}}return n})();var Tt=(()=>{class n{transform(t){if(!t)return"";switch(String(t).toLowerCase()){case I.URGENT:case"urgent":return"Urgente";case I.HIGH:case"high":return"Alta";case I.NORMAL:case"normal":case"medium":return"Media";case I.LOW:case"low":return"Baja";default:let r=String(t);return r.length===0?"":r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275pipe=te({name:"priorityTranslate",type:n,pure:!0})}}return n})();function Yt(n,C){if(n&1&&(c(0,"span",26),f(1),K(2,"timeAgo"),p()),n&2){let t=w(2);v(),ve("Hace ",J(2,1,t.activeTask==null?null:t.activeTask.createdAt),"")}}function Xt(n,C){if(n&1&&(c(0,"button",27)(1,"span"),f(2),K(3,"priorityTranslate"),p(),c(4,"mat-icon"),f(5,"arrow_drop_down"),p()()),n&2){w();let t=le(33),i=w();B("ngStyle",i.getPriorityButtonStyles(i.activeTask==null?null:i.activeTask.priority))("matMenuTriggerFor",t),v(2),A(J(3,3,i.activeTask==null?null:i.activeTask.priority))}}function ei(n,C){if(n&1&&(c(0,"div",28)(1,"p",29,2),f(3),p()()),n&2){let t=w(2);v(),ce("m3-task-description-truncated-v6",!t.descriptionExpanded&&t.activeTask&&t.activeTask.description&&t.activeTask.description.length>150),v(2),ve(" ",t.activeTask==null?null:t.activeTask.description," ")}}function ti(n,C){if(n&1){let t=Ie();c(0,"div",30),Y(1,"div",31),c(2,"button",32),O("click",function(){j(t);let r=w(2);return V(r.toggleDescription())}),f(3),p()()}if(n&2){let t=w(2);v(3),ve(" ",t.descriptionExpanded?"Colapsar":"Expandir"," ")}}function ii(n,C){if(n&1){let t=Ie();c(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"button",10)(6,"mat-icon"),f(7,"more_vert"),p()(),c(8,"mat-menu",null,0)(10,"button",11),O("click",function(){j(t);let r=w();return V(r.openEditTaskDialog())}),c(11,"mat-icon"),f(12,"edit"),p(),c(13,"span"),f(14,"Editar Tarea"),p()(),c(15,"button",11),O("click",function(){j(t);let r=w();return V(r.onDeleteTask())}),c(16,"mat-icon"),f(17,"delete"),p(),c(18,"span"),f(19,"Eliminar Tarea"),p()()(),c(20,"div",12)(21,"h2",13),f(22),p(),G(23,Yt,3,3,"span",14),p()(),c(24,"div",15)(25,"div",16)(26,"mat-icon",17),f(27,"schedule"),p(),c(28,"span",18),f(29),K(30,"formatTime"),p()(),G(31,Xt,6,5,"button",19),c(32,"mat-menu",null,1)(34,"button",11),O("click",function(){j(t);let r=w();return V(r.changePriority(r.TaskPriority.URGENT))}),f(35),K(36,"priorityTranslate"),p(),c(37,"button",11),O("click",function(){j(t);let r=w();return V(r.changePriority(r.TaskPriority.HIGH))}),f(38),K(39,"priorityTranslate"),p(),c(40,"button",11),O("click",function(){j(t);let r=w();return V(r.changePriority(r.TaskPriority.NORMAL))}),f(41),K(42,"priorityTranslate"),p(),c(43,"button",11),O("click",function(){j(t);let r=w();return V(r.changePriority(r.TaskPriority.LOW))}),f(44),K(45,"priorityTranslate"),p()(),c(46,"button",20),O("click",function(){j(t);let r=w();return V(r.onPlayPause())}),c(47,"mat-icon"),f(48),p()()()(),c(49,"div",21),G(50,ei,4,3,"div",22),c(51,"div",23)(52,"button",24),O("click",function(){j(t);let r=w();return V(r.onComplete())}),c(53,"mat-icon"),f(54,"check"),p(),c(55,"span"),f(56,"Completar"),p()()()()()(),G(57,ti,4,1,"div",25),p()}if(n&2){let t=le(9),i=w();v(5),B("matMenuTriggerFor",t),v(17),A((i.activeTask==null?null:i.activeTask.title)||"Sin t\xEDtulo"),v(),B("ngIf",i.activeTask==null?null:i.activeTask.createdAt),v(2),ce("blinking-timer",i.isTaskPaused),v(4),A(J(30,14,i.displayElapsedTime)),v(2),B("ngIf",i.activeTask==null?null:i.activeTask.priority),v(4),A(J(36,16,i.TaskPriority.URGENT)),v(3),A(J(39,18,i.TaskPriority.HIGH)),v(3),A(J(42,20,i.TaskPriority.NORMAL)),v(3),A(J(45,22,i.TaskPriority.LOW)),v(4),A(i.isTaskPaused||!i.isPlaying?"play_arrow":"pause"),v(2),B("ngIf",i.activeTask==null?null:i.activeTask.description),v(7),B("ngIf",i.activeTask&&i.activeTask.description&&i.activeTask.description.length>150)}}function ai(n,C){n&1&&(c(0,"div",33)(1,"p",34),f(2,"No hay tareas activas en este momento"),p(),c(3,"p",35),f(4,"selecciona una tarea pendiente"),p()())}var ri=(()=>{class n{transform(t){t==null&&(t=0);let i=Math.floor(t/3600),r=Math.floor(t%3600/60),s=Math.floor(t%60);return i>0?`${this.pad(i)}:${this.pad(r)}:${this.pad(s)}`:`${this.pad(r)}:${this.pad(s)}`}pad(t){return t<10?"0"+t:t.toString()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275pipe=te({name:"formatTime",type:n,pure:!0})}}return n})(),la=(()=>{class n{constructor(t,i,r){this.taskService=t,this.historyService=i,this.dialog=r,this.activeTask=null,this._componentElapsedTime=0,this.descriptionExpanded=!1,this.previousActiveTaskForTimer=null,this.availablePriorities=Object.values(I),this.TaskPriority=I,this.isTaskPaused=!1,this.requestOpenAddTaskDialog=new Ae,this.requestOpenEditTaskDialog=new Ae,this.taskSubscription=this.taskService.activeTask$.subscribe(s=>{this.previousActiveTaskForTimer&&this.previousActiveTaskForTimer.id!==s?.id&&this.stopTimerAndSaveTime(this.previousActiveTaskForTimer,this._componentElapsedTime),this.activeTask=s,this.isTaskPaused=s?.isPaused||!1,this.previousActiveTaskForTimer=s,s?(this._componentElapsedTime=s.elapsedTime||0,this.isTaskPaused?this.stopTimerInternal():this.startTimer()):(this.stopTimerInternal(),this.stopPeriodicSave(),this._componentElapsedTime=0,this.isTaskPaused=!1),this.descriptionExpanded=!1})}getPriorityButtonStyles(t){if(!t)return{};switch(t){case I.URGENT:return{"background-color":"var(--app-light-priority-urgent-bg)",color:"var(--app-light-priority-urgent-text)"};case I.HIGH:return{"background-color":"var(--app-light-priority-high-bg)",color:"var(--app-light-priority-high-text)"};case I.NORMAL:return{"background-color":"var(--app-light-priority-normal-bg)",color:"var(--app-light-priority-normal-text)"};case I.LOW:return{"background-color":"var(--app-light-priority-low-bg)",color:"var(--app-light-priority-low-text)"};default:return{"background-color":"var(--app-light-priority-normal-bg)",color:"var(--app-light-priority-normal-text)"}}}get displayElapsedTime(){return this._componentElapsedTime}get isPlaying(){return!!this.activeTask&&!!this.timerInterval&&!this.isTaskPaused}ngOnInit(){}ngOnDestroy(){this.activeTask&&this.stopTimerAndSaveTime(this.activeTask,this._componentElapsedTime),this.stopPeriodicSave(),this.taskSubscription&&this.taskSubscription.unsubscribe()}startTimer(){this.stopTimerInternal(),this.stopPeriodicSave(),this.activeTask&&!this.isTaskPaused&&(this.timerInterval=setInterval(()=>{this._componentElapsedTime++},1e3),this.periodicSaveInterval=setInterval(()=>{this.activeTask&&this.taskService.updateTaskElapsedTime(this.activeTask.id,this._componentElapsedTime)},15e3))}stopTimerInternal(){this.timerInterval&&(clearInterval(this.timerInterval),this.timerInterval=null)}stopPeriodicSave(){this.periodicSaveInterval&&(clearInterval(this.periodicSaveInterval),this.periodicSaveInterval=null)}stopTimerAndSaveTime(t,i){this.stopTimerInternal(),this.stopPeriodicSave(),t&&this.taskService.updateTaskElapsedTime(t.id,i)}onPlayPause(){if(!this.activeTask)return;if(this.isTaskPaused){this.isTaskPaused=!1,this.activeTask.isPaused=!1,this.taskService.updateTask({id:this.activeTask.id,isPaused:!1}),this.startTimer(),this.taskService.notifyTaskResumed(this.activeTask.title);return}let t={message:"\xBFPausando? \u{1F621}\u{1F621} \xA1Dale al \u25B6\uFE0F play a otra tarea pendiente m\xE1s corta en su lugar o crea una nueva! <br><br><i>\u{1F4A1}Si te enfocas siempre en terminar tu tarea activa o eliges acabar otra m\xE1s corta, ser\xE1s m\xE1s productivo.</i><br><br>Adem\xE1s, las tareas pausadas punt\xFAan menos...",pauseCurrentButtonText:"Quiero pausarla",chooseOtherButtonText:"Ok, elegir\xE9 otra",createNewButtonText:"Crear tarea nueva"};this.dialog.open(ft,{width:"90%",maxWidth:"450px",data:t}).afterClosed().subscribe(r=>{r==="pause_current"?(this.isTaskPaused=!0,this.activeTask&&(this.activeTask.isPaused=!0,this.taskService.updateTask({id:this.activeTask.id,isPaused:!0}),this.stopTimerAndSaveTime(this.activeTask,this._componentElapsedTime),this.taskService.notifyTaskPaused(this.activeTask.title))):r==="create_new"&&this.openCreateTaskDialog()})}openCreateTaskDialog(){this.requestOpenAddTaskDialog.emit()}openEditTaskDialog(){this.activeTask&&this.requestOpenEditTaskDialog.emit(this.activeTask)}onDeleteTask(){if(!this.activeTask)return;let t={message:"Vas a borrar la tarea activa, esto la eliminar\xE1 completamente. \xBFEst\xE1s seguro?",confirmButtonText:"Eliminar Tarea",cancelButtonText:"Cancelar"};this.dialog.open(_t,{width:"90%",maxWidth:"450px",data:t}).afterClosed().subscribe(r=>{if(r&&this.activeTask){let s=this.activeTask,k=this._componentElapsedTime;this.stopTimerInternal(),this.stopPeriodicSave(),this.historyService.addHistoryEntry({title:`Tarea eliminada: ${s.title}`,description:`Has eliminado la tarea: ${s.title}`,type:F.TASK_DELETED,relatedId:s.id,metadata:{taskTitle:s.title,duration:k}}),this.taskService.deleteTask(s.id)}})}onComplete(){if(!this.activeTask)return;let t=this._componentElapsedTime;this.stopTimerInternal(),this.stopPeriodicSave(),this.taskService.updateTaskElapsedTime(this.activeTask.id,t),this.historyService.addHistoryEntry({title:`Tarea completada: ${this.activeTask.title}`,description:`Has completado la tarea: ${this.activeTask.title}`,type:F.TASK_COMPLETED,relatedId:this.activeTask.id,metadata:{taskTitle:this.activeTask.title,duration:t}}),this.taskService.completeActiveTask(t,this.activeTask.title),this.triggerConfetti()}triggerConfetti(){let i=Date.now()+3e3,r={startVelocity:30,spread:360,ticks:60,zIndex:1e4};function s(D,y){return Math.random()*(y-D)+D}let k=setInterval(()=>{let D=i-Date.now();if(D<=0)return clearInterval(k);let y=50*(D/3e3);Re(Object.assign({},r,{particleCount:y,origin:{x:s(.1,.3),y:Math.random()-.2}})),Re(Object.assign({},r,{particleCount:y,origin:{x:s(.7,.9),y:Math.random()-.2}}))},250)}toggleDescription(){this.descriptionExpanded=!this.descriptionExpanded}changePriority(t){if(this.activeTask){let i=U(L({},this.activeTask),{priority:t});this.taskService.updateTask(i)}}static{this.\u0275fac=function(i){return new(i||n)(W(gt),W(ut),W(nt))}}static{this.\u0275cmp=q({type:n,selectors:[["app-active-task-display"]],outputs:{requestOpenAddTaskDialog:"requestOpenAddTaskDialog",requestOpenEditTaskDialog:"requestOpenEditTaskDialog"},decls:2,vars:2,consts:[["taskMenu","matMenu"],["priorityMenu","matMenu"],["taskDescriptionEl",""],["class","m3-card-base m3-active-task-card",4,"ngIf"],["class","empty-state-card",4,"ngIf"],[1,"m3-card-base","m3-active-task-card"],[1,"m3-card-top-section"],[1,"m3-active-task-card-main-content-wrapper"],[1,"m3-card-header-v6"],[1,"m3-header-start-v6"],["mat-icon-button","","aria-label","Opciones de tarea activa",1,"mat-mdc-menu-trigger","m3-icon-button-menu-v6",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],[1,"m3-title-group-v6"],[1,"m3-task-title-v6"],["class","m3-task-subtitle-v6",4,"ngIf"],[1,"m3-header-end-v6"],[1,"m3-timer-group-v6"],[1,"m3-timer-icon-v6"],[1,"m3-timer-text-v6"],["mat-flat-button","","class","m3-priority-tonal-button",3,"ngStyle","matMenuTriggerFor",4,"ngIf"],["mat-icon-button","","aria-label","Continuar tarea / Pausar tarea",1,"m3-icon-tonal-button",3,"click"],[1,"m3-card-content-area-v6"],["class","m3-task-description-container-v6",4,"ngIf"],[1,"m3-button-complete-container-v6"],["mat-flat-button","",1,"m3-button-complete-v6",3,"click"],["class","m3-card-bottom-section",4,"ngIf"],[1,"m3-task-subtitle-v6"],["mat-flat-button","",1,"m3-priority-tonal-button",3,"ngStyle","matMenuTriggerFor"],[1,"m3-task-description-container-v6"],[1,"m3-task-description-v6"],[1,"m3-card-bottom-section"],[1,"m3-footer-divider-v6"],[1,"m3-expand-button-v6",3,"click"],[1,"empty-state-card"],[1,"empty-state-text-primary"],[1,"empty-state-text-secondary"]],template:function(i,r){i&1&&G(0,ii,58,24,"div",3)(1,ai,5,0,"div",4),i&2&&(B("ngIf",r.activeTask),v(),B("ngIf",!r.activeTask))},dependencies:[ae,tt,it,Ce,Me,oe,ne,ot,re,pt,lt,ct,dt,ri,kt,Tt],styles:['.m3-card-base.m3-active-task-card[_ngcontent-%COMP%]{background-color:var(--app-active-task-card-background, var(--app-light-surface-container));border-radius:var(--app-border-radius-card);padding:0;margin-bottom:var(--app-spacing-inter-task-gap);border:1px solid var(--app-active-task-card-outline, transparent);display:flex;flex-direction:column;overflow:hidden;width:100%;box-sizing:border-box}.dark-theme[_ngcontent-%COMP%]   .m3-card-base.m3-active-task-card[_ngcontent-%COMP%]{background-color:var(--app-dark-surface-container);border-color:var(--app-dark-active-task-card-outline, transparent)}.m3-card-top-section[_ngcontent-%COMP%]{width:100%;box-sizing:border-box}.m3-active-task-card-main-content-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;padding:var(--app-spacing-card-padding);box-sizing:border-box}.m3-card-header-v6[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--app-spacing-internal-card-primary);width:100%}.m3-header-start-v6[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:var(--app-spacing-internal-card-primary);flex-grow:1;min-width:0}.m3-icon-button-menu-v6[_ngcontent-%COMP%]{color:var(--app-light-on-surface-variant);margin:2px 0 0;padding:0;width:24px;height:24px;display:inline-flex;align-items:center;justify-content:center}.dark-theme[_ngcontent-%COMP%]   .m3-icon-button-menu-v6[_ngcontent-%COMP%]{color:var(--app-dark-on-surface-variant)}.m3-icon-button-menu-v6[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px}.m3-title-group-v6[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;min-width:0}.m3-task-title-v6[_ngcontent-%COMP%]{font-family:var(--app-font-family, "Roboto", sans-serif);font-size:24px;font-weight:400;line-height:32px;letter-spacing:0px;color:var(--app-light-on-surface);margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.dark-theme[_ngcontent-%COMP%]   .m3-task-title-v6[_ngcontent-%COMP%]{color:var(--app-dark-on-surface)}.m3-task-subtitle-v6[_ngcontent-%COMP%]{font-size:var(--app-font-size-task-subtitle);font-weight:var(--app-font-weight-task-subtitle);color:var(--app-light-on-surface-variant);margin-top:2px;line-height:1.3}.dark-theme[_ngcontent-%COMP%]   .m3-task-subtitle-v6[_ngcontent-%COMP%]{color:var(--app-dark-on-surface-variant)}.m3-header-end-v6[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--app-spacing-internal-card-primary);flex-shrink:0}.m3-timer-group-v6[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--app-spacing-internal-card-secondary)}.m3-timer-icon-v6[_ngcontent-%COMP%]{color:var(--app-light-on-surface-variant);font-size:20px}.dark-theme[_ngcontent-%COMP%]   .m3-timer-icon-v6[_ngcontent-%COMP%]{color:var(--app-dark-on-surface-variant)}.m3-timer-text-v6[_ngcontent-%COMP%]{font-family:var(--app-font-family, "Roboto", sans-serif);font-size:28px;font-weight:400;line-height:36px;letter-spacing:0px;color:var(--app-light-on-surface);min-width:40px;text-align:right}.dark-theme[_ngcontent-%COMP%]   .m3-timer-text-v6[_ngcontent-%COMP%]{color:var(--app-dark-on-surface)}.m3-icon-button-play-pause-v6[_ngcontent-%COMP%]{background-color:var(--app-light-icon-button-bg);color:var(--app-light-icon-button-fg);border-radius:var(--app-border-radius-icon-button-circular);width:40px;height:40px;padding:0;border:none;display:flex;align-items:center;justify-content:center;box-shadow:none}.dark-theme[_ngcontent-%COMP%]   .m3-icon-button-play-pause-v6[_ngcontent-%COMP%]{background-color:var(--app-dark-icon-button-bg);color:var(--app-dark-icon-button-fg)}.m3-icon-button-play-pause-v6[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px}.m3-card-content-area-v6[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;gap:var(--app-spacing-card-padding);width:100%;padding-left:0;box-sizing:border-box}.m3-task-description-container-v6[_ngcontent-%COMP%]{flex-grow:1;min-width:0;max-width:50%;margin-top:0;padding-left:calc(24px + var(--app-spacing-internal-card-primary));box-sizing:border-box}.m3-task-description-v6[_ngcontent-%COMP%]{font-size:var(--app-font-size-description);font-weight:var(--app-font-weight-description);color:var(--app-light-on-surface-variant);margin:0;line-height:1.5em;word-wrap:break-word;white-space:pre-wrap}.dark-theme[_ngcontent-%COMP%]   .m3-task-description-v6[_ngcontent-%COMP%]{color:var(--app-dark-on-surface-variant)}.m3-task-description-truncated-v6[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;max-height:4.5em}.m3-button-complete-container-v6[_ngcontent-%COMP%]{flex-shrink:0;display:flex;align-items:flex-start;margin-left:auto}.m3-button-complete-v6[_ngcontent-%COMP%]{background-color:var(--app-light-complete-button-bg)!important;color:var(--app-light-complete-button-text)!important;border-radius:var(--app-border-radius-button-pill, 28px);padding:10px 24px;font-size:var(--app-font-size-button, 14px);font-weight:var(--app-font-weight-button-emphasized, 500);min-height:40px;line-height:normal;text-transform:none;border:none;box-shadow:var(--app-elevation-1)}.dark-theme[_ngcontent-%COMP%]   .m3-button-complete-v6[_ngcontent-%COMP%]{background-color:var(--app-dark-complete-button-bg)!important;color:var(--app-dark-complete-button-text)!important}.m3-button-complete-v6[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px;font-size:20px}.m3-card-bottom-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;padding:0;box-sizing:border-box}.m3-footer-divider-v6[_ngcontent-%COMP%]{height:1px;background-color:var(--app-light-outline);width:100%;margin-top:var(--app-spacing-internal-card-secondary);margin-bottom:var(--app-spacing-internal-card-secondary)}.dark-theme[_ngcontent-%COMP%]   .m3-footer-divider-v6[_ngcontent-%COMP%]{background-color:var(--app-dark-outline)}.m3-expand-button-v6[_ngcontent-%COMP%]{font-family:var(--app-font-family, "Roboto", sans-serif);font-size:var(--app-font-size-label-small, 11px);font-weight:500;letter-spacing:.5px;line-height:16px;color:var(--app-light-primary-action-text);background-color:transparent;border:none;padding:8px 16px;cursor:pointer;text-align:center;width:100%;box-sizing:border-box;border-radius:var(--app-border-radius-button-small, 4px);transition:background-color .2s ease}.m3-expand-button-v6[_ngcontent-%COMP%]:hover{background-color:#0000000a}.dark-theme[_ngcontent-%COMP%]   .m3-expand-button-v6[_ngcontent-%COMP%]{color:var(--app-dark-primary-action-text)}.dark-theme[_ngcontent-%COMP%]   .m3-expand-button-v6[_ngcontent-%COMP%]:hover{background-color:#ffffff14}.empty-state-card[_ngcontent-%COMP%]{background-color:var(--app-light-surface-container);border-radius:var(--app-border-radius-card);padding:32px;margin-bottom:var(--app-spacing-inter-task-gap);border:1px solid transparent;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;min-height:120px;max-width:850px;margin-left:auto;margin-right:auto;width:100%;box-sizing:border-box}.dark-theme[_ngcontent-%COMP%]   .empty-state-card[_ngcontent-%COMP%]{background-color:var(--app-dark-surface-container)}.empty-state-text-primary[_ngcontent-%COMP%]{font-size:var(--app-font-size-empty-state-primary);font-weight:var(--app-font-weight-empty-state-primary);color:var(--app-light-on-surface-variant);margin:0 0 var(--app-spacing-internal-card-primary)}.dark-theme[_ngcontent-%COMP%]   .empty-state-text-primary[_ngcontent-%COMP%]{color:var(--app-dark-on-surface-variant)}.empty-state-text-secondary[_ngcontent-%COMP%]{font-size:var(--app-font-size-empty-state-secondary);font-weight:var(--app-font-weight-empty-state-secondary);color:var(--app-light-on-surface-variant);margin:0}.dark-theme[_ngcontent-%COMP%]   .empty-state-text-secondary[_ngcontent-%COMP%]{color:var(--app-dark-on-surface-variant)}@media (max-width: 600px){.m3-card-base.m3-active-task-card[_ngcontent-%COMP%]{margin-left:var(--app-spacing-page-margin-mobile, 16px);margin-right:var(--app-spacing-page-margin-mobile, 16px);max-width:none}.m3-active-task-card-main-content-wrapper[_ngcontent-%COMP%]{padding:var(--app-spacing-card-padding-mobile, 16px)}.m3-task-description-container-v6[_ngcontent-%COMP%]{padding-left:calc(24px + var(--app-spacing-internal-card-primary))}.m3-card-header-v6[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.m3-header-start-v6[_ngcontent-%COMP%]{margin-bottom:var(--app-spacing-internal-card-primary);align-items:flex-start}.m3-header-end-v6[_ngcontent-%COMP%]{justify-content:space-between;gap:var(--app-spacing-internal-card-secondary)}.m3-card-content-area-v6[_ngcontent-%COMP%]{flex-direction:column;gap:var(--app-spacing-internal-card-primary);padding-left:0}.m3-task-description-container-v6[_ngcontent-%COMP%]{margin-bottom:0;max-width:100%;padding-left:calc(24px + var(--app-spacing-internal-card-primary))}.m3-button-complete-container-v6[_ngcontent-%COMP%]{align-self:flex-end}.m3-task-title-v6[_ngcontent-%COMP%]{font-size:22px;line-height:28px}.m3-task-subtitle-v6[_ngcontent-%COMP%]{font-size:calc(var(--app-font-size-task-subtitle) * .9)}.m3-timer-text-v6[_ngcontent-%COMP%]{font-size:24px;line-height:32px}.m3-icon-button-play-pause-v6[_ngcontent-%COMP%]{width:36px;height:36px}.m3-icon-button-play-pause-v6[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:22px}.m3-button-complete-v6[_ngcontent-%COMP%]{padding:8px 20px;font-size:calc(var(--app-font-size-button, 14px) * .95);min-height:36px}.m3-button-complete-v6[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;margin-right:6px}.m3-expand-button-v6[_ngcontent-%COMP%]{font-size:calc(var(--app-font-size-label-small, 11px) * .95);line-height:14px;padding:var(--app-spacing-internal-card-secondary) var(--app-spacing-card-padding-mobile, 16px)}.empty-state-card[_ngcontent-%COMP%]{margin-left:var(--app-spacing-page-margin-mobile, 16px);margin-right:var(--app-spacing-page-margin-mobile, 16px);padding:24px}}@keyframes _ngcontent-%COMP%_blinker{50%{opacity:.3}}.blinking-timer[_ngcontent-%COMP%]   .m3-timer-text-v6[_ngcontent-%COMP%], .blinking-timer[_ngcontent-%COMP%]   .m3-timer-icon-v6[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_blinker 1.5s linear infinite}']})}}return n})();var ni=["determinateSpinner"];function oi(n,C){if(n&1&&(Oe(),c(0,"svg",11),Y(1,"circle",12),p()),n&2){let t=w();ie("viewBox",t._viewBox()),v(),ge("stroke-dasharray",t._strokeCircumference(),"px")("stroke-dashoffset",t._strokeCircumference()/2,"px")("stroke-width",t._circleStrokeWidth(),"%"),ie("r",t._circleRadius())}}var si=new We("mat-progress-spinner-default-options",{providedIn:"root",factory:ci});function ci(){return{diameter:bt}}var bt=100,li=10,ba=(()=>{class n{_elementRef=ue(Ue);_noopAnimations;get color(){return this._color||this._defaultColor}set color(t){this._color=t}_color;_defaultColor="primary";_determinateCircle;constructor(){let t=ue(qe,{optional:!0}),i=ue(si);this._noopAnimations=t==="NoopAnimations"&&!!i&&!i._forceAnimations,this.mode=this._elementRef.nativeElement.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",i&&(i.color&&(this.color=this._defaultColor=i.color),i.diameter&&(this.diameter=i.diameter),i.strokeWidth&&(this.strokeWidth=i.strokeWidth))}mode;get value(){return this.mode==="determinate"?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,t||0))}_value=0;get diameter(){return this._diameter}set diameter(t){this._diameter=t||0}_diameter=bt;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(t){this._strokeWidth=t||0}_strokeWidth;_circleRadius(){return(this.diameter-li)/2}_viewBox(){let t=this._circleRadius()*2+this.strokeWidth;return`0 0 ${t} ${t}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=q({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(i,r){if(i&1&&Ze(ni,5),i&2){let s;Qe(s=Ye())&&(r._determinateCircle=s.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(i,r){i&2&&(ie("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",r.mode==="determinate"?r.value:null)("mode",r.mode),Je("mat-"+r.color),ge("width",r.diameter,"px")("height",r.diameter,"px")("--mdc-circular-progress-size",r.diameter+"px")("--mdc-circular-progress-active-indicator-width",r.diameter+"px"),ce("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate",r.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",fe],diameter:[2,"diameter","diameter",fe],strokeWidth:[2,"strokeWidth","strokeWidth",fe]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(i,r){if(i&1&&(G(0,oi,2,8,"ng-template",null,0,Xe),c(2,"div",2,1),Oe(),c(4,"svg",3),Y(5,"circle",4),p()(),$e(),c(6,"div",5)(7,"div",6)(8,"div",7),he(9,8),p(),c(10,"div",9),he(11,8),p(),c(12,"div",10),he(13,8),p()()()),i&2){let s=le(1);v(4),ie("viewBox",r._viewBox()),v(),ge("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),ie("r",r._circleRadius()),v(4),B("ngTemplateOutlet",s),v(2),B("ngTemplateOutlet",s),v(2),B("ngTemplateOutlet",s)}},dependencies:[at],styles:[`.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}
`],encapsulation:2,changeDetection:0})}return n})();var ya=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ke({type:n});static \u0275inj=Ve({imports:[rt]})}return n})();export{F as a,ut as b,I as c,gt as d,kt as e,Tt as f,la as g,ba as h,ya as i};
/**i18n:cbc6eedd78daabc21d38dc76dc1d9c98cb25f2a080c64096148af3a26e2a8f0f*/
