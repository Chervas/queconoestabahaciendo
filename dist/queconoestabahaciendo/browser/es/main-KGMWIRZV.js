import{b as Hi,c as P,d as Be,e as Yi,f as Xi,g as Ji,h as Zi,i as er}from"./chunk-IIGBF2VE.js";import{a as St,b as Re}from"./chunk-CUYXMCNI.js";import{A as nn,B as Di,C as Ni,D as Fi,F as Ri,G as Li,I as Bi,K as zi,M as vt,O as Vi,P as kt,R as Ki,S as ji,T as Fe,W as $i,X as ze,a as E,b as re,e as pi,f as Zt,i as Te,j as pt,k as We,l as Ti,m as Ei,n as Mi,o as _t,p as Ci,q as Pi,r as xi,v as Oi,w as Ne,x as Ai,y as Ii}from"./chunk-BVA3BB3U.js";import{c as gt,g as ht,i as bi,j as vi,k as ki,l as Si,m as yt,o as Ui}from"./chunk-4K3KITG2.js";import{a as ut,b as mt,c as di,d as ui,e as mi,h as Gi,k as qi,o as Qi,t as Wi,u as Le,v as tr}from"./chunk-2CEUD3GB.js";import{$a as ke,Ab as Se,Ac as gi,Ca as b,Cc as hi,Db as ei,Ea as Wn,Eb as ti,Fb as ni,Ga as j,Hb as ii,Ib as lt,Jb as ct,Lc as fi,Ma as Z,Na as Xt,O as Wt,Oa as Hn,Ob as Jt,Pb as ie,Qc as en,S as w,Sa as L,T as Kn,U as rt,V as Ht,Vb as ri,X as Yt,Ya as ot,Z as at,Za as T,_ as U,a as pe,ac as dt,b as it,bc as Ae,c as Vn,ca as z,cb as Yn,cc as ge,d as $t,dc as ai,fb as d,fd as tn,ga as x,gb as u,gc as te,ha as O,hb as V,hd as yi,ic as oi,id as _i,jc as si,jd as Ie,kc as li,kd as ft,lb as $,lc as ci,ld as De,ma as jn,nb as C,nd as he,ob as A,od as fe,pa as J,pb as Xn,pd as ce,qa as Qn,qb as Jn,qd as wi,r as Gn,rb as Zn,s as qn,sa as Un,sb as st,tb as Qe,ub as Ue,wa as je,wd as bt,xa as $n,xb as $e,yb as y,zb as ee}from"./chunk-XJQRPAJU.js";function nr(r){return new w(3e3,!1)}function ma(){return new w(3100,!1)}function pa(){return new w(3101,!1)}function ga(r){return new w(3001,!1)}function ha(r){return new w(3003,!1)}function fa(r){return new w(3004,!1)}function rr(r,t){return new w(3005,!1)}function ar(){return new w(3006,!1)}function or(){return new w(3007,!1)}function sr(r,t){return new w(3008,!1)}function lr(r){return new w(3002,!1)}function cr(r,t,e,n,i){return new w(3010,!1)}function dr(){return new w(3011,!1)}function ur(){return new w(3012,!1)}function mr(){return new w(3200,!1)}function pr(){return new w(3202,!1)}function gr(){return new w(3013,!1)}function hr(r){return new w(3014,!1)}function fr(r){return new w(3015,!1)}function yr(r){return new w(3016,!1)}function _r(r,t){return new w(3404,!1)}function ya(r){return new w(3502,!1)}function br(r){return new w(3503,!1)}function vr(){return new w(3300,!1)}function kr(r){return new w(3504,!1)}function Sr(r){return new w(3301,!1)}function Tr(r,t){return new w(3302,!1)}function Er(r){return new w(3303,!1)}function Mr(r,t){return new w(3400,!1)}function wr(r){return new w(3401,!1)}function Cr(r){return new w(3402,!1)}function Pr(r,t){return new w(3505,!1)}function ue(r){switch(r.length){case 0:return new Te;case 1:return r[0];default:return new pt(r)}}function sn(r,t,e=new Map,n=new Map){let i=[],a=[],o=-1,s=null;if(t.forEach(l=>{let c=l.get("offset"),p=c==o,m=p&&s||new Map;l.forEach((S,k)=>{let h=k,v=S;if(k!=="offset")switch(h=r.normalizePropertyName(h,i),v){case We:v=e.get(k);break;case re:v=n.get(k);break;default:v=r.normalizeStyleValue(k,h,v,i);break}m.set(h,v)}),p||a.push(m),s=m,o=c}),i.length)throw ya(i);return a}function Tt(r,t,e,n){switch(t){case"start":r.onStart(()=>n(e&&rn(e,"start",r)));break;case"done":r.onDone(()=>n(e&&rn(e,"done",r)));break;case"destroy":r.onDestroy(()=>n(e&&rn(e,"destroy",r)));break}}function rn(r,t,e){let n=e.totalTime,i=!!e.disabled,a=Et(r.element,r.triggerName,r.fromState,r.toState,t||r.phaseName,n??r.totalTime,i),o=r._data;return o!=null&&(a._data=o),a}function Et(r,t,e,n,i="",a=0,o){return{element:r,triggerName:t,fromState:e,toState:n,phaseName:i,totalTime:a,disabled:!!o}}function W(r,t,e){let n=r.get(t);return n||r.set(t,n=e),n}function ln(r){let t=r.indexOf(":"),e=r.substring(1,t),n=r.slice(t+1);return[e,n]}var _a=typeof document>"u"?null:document.documentElement;function Mt(r){let t=r.parentNode||r.host||null;return t===_a?null:t}function ba(r){return r.substring(1,6)=="ebkit"}var Ee=null,ir=!1;function xr(r){Ee||(Ee=va()||{},ir=Ee.style?"WebkitAppearance"in Ee.style:!1);let t=!0;return Ee.style&&!ba(r)&&(t=r in Ee.style,!t&&ir&&(t="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in Ee.style)),t}function va(){return typeof document<"u"?document.body:null}function cn(r,t){for(;t;){if(t===r)return!0;t=Mt(t)}return!1}function dn(r,t,e){if(e)return Array.from(r.querySelectorAll(t));let n=r.querySelector(t);return n?[n]:[]}var ka=1e3,un="{{",Sa="}}",mn="ng-enter",wt="ng-leave",He="ng-trigger",Ye=".ng-trigger",pn="ng-animating",Ct=".ng-animating";function de(r){if(typeof r=="number")return r;let t=r.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:an(parseFloat(t[1]),t[2])}function an(r,t){switch(t){case"s":return r*ka;default:return r}}function Xe(r,t,e){return r.hasOwnProperty("duration")?r:Ta(r,t,e)}function Ta(r,t,e){let n=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,a=0,o="";if(typeof r=="string"){let s=r.match(n);if(s===null)return t.push(nr(r)),{duration:0,delay:0,easing:""};i=an(parseFloat(s[1]),s[2]);let l=s[3];l!=null&&(a=an(parseFloat(l),s[4]));let c=s[5];c&&(o=c)}else i=r;if(!e){let s=!1,l=t.length;i<0&&(t.push(ma()),s=!0),a<0&&(t.push(pa()),s=!0),s&&t.splice(l,0,nr(r))}return{duration:i,delay:a,easing:o}}function Or(r){return r.length?r[0]instanceof Map?r:r.map(t=>new Map(Object.entries(t))):[]}function ae(r,t,e){t.forEach((n,i)=>{let a=Pt(i);e&&!e.has(i)&&e.set(i,r.style[a]),r.style[a]=n})}function ye(r,t){t.forEach((e,n)=>{let i=Pt(n);r.style[i]=""})}function Ve(r){return Array.isArray(r)?r.length==1?r[0]:pi(r):r}function Ar(r,t,e){let n=t.params||{},i=gn(r);i.length&&i.forEach(a=>{n.hasOwnProperty(a)||e.push(ga(a))})}var on=new RegExp(`${un}\\s*(.+?)\\s*${Sa}`,"g");function gn(r){let t=[];if(typeof r=="string"){let e;for(;e=on.exec(r);)t.push(e[1]);on.lastIndex=0}return t}function Ge(r,t,e){let n=`${r}`,i=n.replace(on,(a,o)=>{let s=t[o];return s==null&&(e.push(ha(o)),s=""),s.toString()});return i==n?r:i}var Ea=/-+([a-z0-9])/g;function Pt(r){return r.replace(Ea,(...t)=>t[1].toUpperCase())}function Ir(r,t){return r===0||t===0}function Dr(r,t,e){if(e.size&&t.length){let n=t[0],i=[];if(e.forEach((a,o)=>{n.has(o)||i.push(o),n.set(o,a)}),i.length)for(let a=1;a<t.length;a++){let o=t[a];i.forEach(s=>o.set(s,xt(r,s)))}}return t}function H(r,t,e){switch(t.type){case E.Trigger:return r.visitTrigger(t,e);case E.State:return r.visitState(t,e);case E.Transition:return r.visitTransition(t,e);case E.Sequence:return r.visitSequence(t,e);case E.Group:return r.visitGroup(t,e);case E.Animate:return r.visitAnimate(t,e);case E.Keyframes:return r.visitKeyframes(t,e);case E.Style:return r.visitStyle(t,e);case E.Reference:return r.visitReference(t,e);case E.AnimateChild:return r.visitAnimateChild(t,e);case E.AnimateRef:return r.visitAnimateRef(t,e);case E.Query:return r.visitQuery(t,e);case E.Stagger:return r.visitStagger(t,e);default:throw fa(t.type)}}function xt(r,t){return window.getComputedStyle(r)[t]}var An=(()=>{class r{validateStyleProperty(e){return xr(e)}containsElement(e,n){return cn(e,n)}getParentElement(e){return Mt(e)}query(e,n,i){return dn(e,n,i)}computeStyle(e,n,i){return i||""}animate(e,n,i,a,o,s=[],l){return new Te(i,a)}static \u0275fac=function(n){return new(n||r)};static \u0275prov=rt({token:r,factory:r.\u0275fac})}return r})(),we=class{static NOOP=new An},Ce=class{};var Ma=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Nt=class extends Ce{normalizePropertyName(t,e){return Pt(t)}normalizeStyleValue(t,e,n,i){let a="",o=n.toString().trim();if(Ma.has(e)&&n!==0&&n!=="0")if(typeof n=="number")a="px";else{let s=n.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&s[1].length==0&&i.push(rr(t,n))}return o+a}};var Ft="*";function wa(r,t){let e=[];return typeof r=="string"?r.split(/\s*,\s*/).forEach(n=>Ca(n,e,t)):e.push(r),e}function Ca(r,t,e){if(r[0]==":"){let l=Pa(r,e);if(typeof l=="function"){t.push(l);return}r=l}let n=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return e.push(fr(r)),t;let i=n[1],a=n[2],o=n[3];t.push(Nr(i,o));let s=i==Ft&&o==Ft;a[0]=="<"&&!s&&t.push(Nr(o,i))}function Pa(r,t){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return t.push(yr(r)),"* => *"}}var Ot=new Set(["true","1"]),At=new Set(["false","0"]);function Nr(r,t){let e=Ot.has(r)||At.has(r),n=Ot.has(t)||At.has(t);return(i,a)=>{let o=r==Ft||r==i,s=t==Ft||t==a;return!o&&e&&typeof i=="boolean"&&(o=i?Ot.has(r):At.has(r)),!s&&n&&typeof a=="boolean"&&(s=a?Ot.has(t):At.has(t)),o&&s}}var jr=":self",xa=new RegExp(`s*${jr}s*,?`,"g");function Qr(r,t,e,n){return new vn(r).build(t,e,n)}var Fr="",vn=class{_driver;constructor(t){this._driver=t}build(t,e,n){let i=new kn(e);return this._resetContextStyleTimingState(i),H(this,Ve(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector=Fr,t.collectedStyles=new Map,t.collectedStyles.set(Fr,new Map),t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,i=e.depCount=0,a=[],o=[];return t.name.charAt(0)=="@"&&e.errors.push(ar()),t.definitions.forEach(s=>{if(this._resetContextStyleTimingState(e),s.type==E.State){let l=s,c=l.name;c.toString().split(/\s*,\s*/).forEach(p=>{l.name=p,a.push(this.visitState(l,e))}),l.name=c}else if(s.type==E.Transition){let l=this.visitTransition(s,e);n+=l.queryCount,i+=l.depCount,o.push(l)}else e.errors.push(or())}),{type:E.Trigger,name:t.name,states:a,transitions:o,queryCount:n,depCount:i,options:null}}visitState(t,e){let n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){let a=new Set,o=i||{};n.styles.forEach(s=>{s instanceof Map&&s.forEach(l=>{gn(l).forEach(c=>{o.hasOwnProperty(c)||a.add(c)})})}),a.size&&e.errors.push(sr(t.name,[...a.values()]))}return{type:E.State,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let n=H(this,Ve(t.animation),e),i=wa(t.expr,e.errors);return{type:E.Transition,matchers:i,animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Me(t.options)}}visitSequence(t,e){return{type:E.Sequence,steps:t.steps.map(n=>H(this,n,e)),options:Me(t.options)}}visitGroup(t,e){let n=e.currentTime,i=0,a=t.steps.map(o=>{e.currentTime=n;let s=H(this,o,e);return i=Math.max(i,e.currentTime),s});return e.currentTime=i,{type:E.Group,steps:a,options:Me(t.options)}}visitAnimate(t,e){let n=Da(t.timings,e.errors);e.currentAnimateTimings=n;let i,a=t.styles?t.styles:Zt({});if(a.type==E.Keyframes)i=this.visitKeyframes(a,e);else{let o=t.styles,s=!1;if(!o){s=!0;let c={};n.easing&&(c.easing=n.easing),o=Zt(c)}e.currentTime+=n.duration+n.delay;let l=this.visitStyle(o,e);l.isEmptyStep=s,i=l}return e.currentAnimateTimings=null,{type:E.Animate,timings:n,style:i,options:null}}visitStyle(t,e){let n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){let n=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let s of i)typeof s=="string"?s===re?n.push(s):e.errors.push(lr(s)):n.push(new Map(Object.entries(s)));let a=!1,o=null;return n.forEach(s=>{if(s instanceof Map&&(s.has("easing")&&(o=s.get("easing"),s.delete("easing")),!a)){for(let l of s.values())if(l.toString().indexOf(un)>=0){a=!0;break}}}),{type:E.Style,styles:n,easing:o,offset:t.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(t,e){let n=e.currentAnimateTimings,i=e.currentTime,a=e.currentTime;n&&a>0&&(a-=n.duration+n.delay),t.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,l)=>{let c=e.collectedStyles.get(e.currentQuerySelector),p=c.get(l),m=!0;p&&(a!=i&&a>=p.startTime&&i<=p.endTime&&(e.errors.push(cr(l,p.startTime,p.endTime,a,i)),m=!1),a=p.startTime),m&&c.set(l,{startTime:a,endTime:i}),e.options&&Ar(s,e.options,e.errors)})})}visitKeyframes(t,e){let n={type:E.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(dr()),n;let i=1,a=0,o=[],s=!1,l=!1,c=0,p=t.steps.map(N=>{let F=this._makeStyleAst(N,e),q=F.offset!=null?F.offset:Ia(F.styles),B=0;return q!=null&&(a++,B=F.offset=q),l=l||B<0||B>1,s=s||B<c,c=B,o.push(B),F});l&&e.errors.push(ur()),s&&e.errors.push(mr());let m=t.steps.length,S=0;a>0&&a<m?e.errors.push(pr()):a==0&&(S=i/(m-1));let k=m-1,h=e.currentTime,v=e.currentAnimateTimings,I=v.duration;return p.forEach((N,F)=>{let q=S>0?F==k?1:S*F:o[F],B=q*I;e.currentTime=h+v.delay+B,v.duration=B,this._validateStyleAst(N,e),N.offset=q,n.styles.push(N)}),n}visitReference(t,e){return{type:E.Reference,animation:H(this,Ve(t.animation),e),options:Me(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:E.AnimateChild,options:Me(t.options)}}visitAnimateRef(t,e){return{type:E.AnimateRef,animation:this.visitReference(t.animation,e),options:Me(t.options)}}visitQuery(t,e){let n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;let[a,o]=Oa(t.selector);e.currentQuerySelector=n.length?n+" "+a:a,W(e.collectedStyles,e.currentQuerySelector,new Map);let s=H(this,Ve(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:E.Query,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:Me(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(gr());let n=t.timings==="full"?{duration:0,delay:0,easing:"full"}:Xe(t.timings,e.errors,!0);return{type:E.Stagger,animation:H(this,Ve(t.animation),e),timings:n,options:null}}};function Oa(r){let t=!!r.split(/\s*,\s*/).find(e=>e==jr);return t&&(r=r.replace(xa,"")),r=r.replace(/@\*/g,Ye).replace(/@\w+/g,e=>Ye+"-"+e.slice(1)).replace(/:animating/g,Ct),[r,t]}function Aa(r){return r?pe({},r):null}var kn=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function Ia(r){if(typeof r=="string")return null;let t=null;if(Array.isArray(r))r.forEach(e=>{if(e instanceof Map&&e.has("offset")){let n=e;t=parseFloat(n.get("offset")),n.delete("offset")}});else if(r instanceof Map&&r.has("offset")){let e=r;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function Da(r,t){if(r.hasOwnProperty("duration"))return r;if(typeof r=="number"){let a=Xe(r,t).duration;return hn(a,0,"")}let e=r;if(e.split(/\s+/).some(a=>a.charAt(0)=="{"&&a.charAt(1)=="{")){let a=hn(0,0,"");return a.dynamic=!0,a.strValue=e,a}let i=Xe(e,t);return hn(i.duration,i.delay,i.easing)}function Me(r){return r?(r=pe({},r),r.params&&(r.params=Aa(r.params))):r={},r}function hn(r,t,e){return{duration:r,delay:t,easing:e}}function In(r,t,e,n,i,a,o=null,s=!1){return{type:1,element:r,keyframes:t,preStyleProps:e,postStyleProps:n,duration:i,delay:a,totalTime:i+a,easing:o,subTimeline:s}}var Ze=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},Na=1,Fa=":enter",Ra=new RegExp(Fa,"g"),La=":leave",Ba=new RegExp(La,"g");function Ur(r,t,e,n,i,a=new Map,o=new Map,s,l,c=[]){return new Sn().buildKeyframes(r,t,e,n,i,a,o,s,l,c)}var Sn=class{buildKeyframes(t,e,n,i,a,o,s,l,c,p=[]){c=c||new Ze;let m=new Tn(t,e,c,i,a,p,[]);m.options=l;let S=l.delay?de(l.delay):0;m.currentTimeline.delayNextStep(S),m.currentTimeline.setStyles([o],null,m.errors,l),H(this,n,m);let k=m.timelines.filter(h=>h.containsAnimation());if(k.length&&s.size){let h;for(let v=k.length-1;v>=0;v--){let I=k[v];if(I.element===e){h=I;break}}h&&!h.allowOnlyTimelineStyles()&&h.setStyles([s],null,m.errors,l)}return k.length?k.map(h=>h.buildKeyframes()):[In(e,[],[],[],0,S,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let n=e.subInstructions.get(e.element);if(n){let i=e.createSubContext(t.options),a=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,i,i.options);a!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){let n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,n),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,n){for(let i of t){let a=i?.delay;if(a){let o=typeof a=="number"?a:de(Ge(a,i?.params??{},e.errors));n.delayNextStep(o)}}}_visitSubInstructions(t,e,n){let a=e.currentTimeline.currentTime,o=n.duration!=null?de(n.duration):null,s=n.delay!=null?de(n.delay):null;return o!==0&&t.forEach(l=>{let c=e.appendInstructionToTimeline(l,o,s);a=Math.max(a,c.duration+c.delay)}),a}visitReference(t,e){e.updateOptions(t.options,!0),H(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let n=e.subContextCount,i=e,a=t.options;if(a&&(a.params||a.delay)&&(i=e.createSubContext(a),i.transformIntoNewTimeline(),a.delay!=null)){i.previousNode.type==E.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Rt);let o=de(a.delay);i.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>H(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let n=[],i=e.currentTimeline.currentTime,a=t.options&&t.options.delay?de(t.options.delay):0;t.steps.forEach(o=>{let s=e.createSubContext(t.options);a&&s.delayNextStep(a),H(this,o,s),i=Math.max(i,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let n=t.strValue,i=e.params?Ge(n,e.params,e.errors):n;return Xe(i,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());let a=t.style;a.type==E.Keyframes?this.visitKeyframes(a,e):(e.incrementTime(n.duration),this.visitStyle(a,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.hasCurrentStyleProperties()&&n.forwardFrame();let a=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(a):n.setStyles(t.styles,a,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let n=e.currentAnimateTimings,i=e.currentTimeline.duration,a=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(l=>{let c=l.offset||0;s.forwardTime(c*a),s.setStyles(l.styles,l.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(i+a),e.previousNode=t}visitQuery(t,e){let n=e.currentTimeline.currentTime,i=t.options||{},a=i.delay?de(i.delay):0;a&&(e.previousNode.type===E.Style||n==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Rt);let o=n,s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=s.length;let l=null;s.forEach((c,p)=>{e.currentQueryIndex=p;let m=e.createSubContext(t.options,c);a&&m.delayNextStep(a),c===e.element&&(l=m.currentTimeline),H(this,t.animation,m),m.currentTimeline.applyStylesToKeyframe();let S=m.currentTimeline.currentTime;o=Math.max(o,S)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let n=e.parentContext,i=e.currentTimeline,a=t.timings,o=Math.abs(a.duration),s=o*(e.currentQueryTotal-1),l=o*e.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":l=s-l;break;case"full":l=n.currentStaggerTime;break}let p=e.currentTimeline;l&&p.delayNextStep(l);let m=p.currentTime;H(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-m+(i.startTime-n.currentTimeline.startTime)}},Rt={},Tn=class r{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Rt;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,n,i,a,o,s,l){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=a,this.errors=o,this.timelines=s,this.currentTimeline=l||new Lt(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let n=t,i=this.options;n.duration!=null&&(i.duration=de(n.duration)),n.delay!=null&&(i.delay=de(n.delay));let a=n.params;if(a){let o=i.params;o||(o=this.options.params={}),Object.keys(a).forEach(s=>{(!e||!o.hasOwnProperty(s))&&(o[s]=Ge(a[s],o,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let n=t.params={};Object.keys(e).forEach(i=>{n[i]=e[i]})}}return t}createSubContext(t=null,e,n){let i=e||this.element,a=new r(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(t),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(t){return this.previousNode=Rt,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){let i={duration:e??t.duration,delay:this.currentTimeline.currentTime+(n??0)+t.delay,easing:""},a=new En(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,i,a,o){let s=[];if(i&&s.push(this.element),t.length>0){t=t.replace(Ra,"."+this._enterClassName),t=t.replace(Ba,"."+this._leaveClassName);let l=n!=1,c=this._driver.query(this.element,t,l);n!==0&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),s.push(...c)}return!a&&s.length==0&&o.push(hr(e)),s}},Lt=class r{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,n,i){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new r(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Na,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||re),this._currentKeyframe.set(e,re);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,i){e&&this._previousKeyframe.set("easing",e);let a=i&&i.params||{},o=za(t,this._globalTimelineStyles);for(let[s,l]of o){let c=Ge(l,a,n);this._pendingStyles.set(s,c),this._localTimelineStyles.has(s)||this._backFill.set(s,this._globalTimelineStyles.get(s)??re),this._updateStyle(s,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,n)=>{let i=this._styleSummary.get(n);(!i||e.time>i.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,n=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((s,l)=>{let c=new Map([...this._backFill,...s]);c.forEach((p,m)=>{p===We?t.add(m):p===re&&e.add(m)}),n||c.set("offset",l/this.duration),i.push(c)});let a=[...t.values()],o=[...e.values()];if(n){let s=i[0],l=new Map(s);s.set("offset",0),l.set("offset",1),i=[s,l]}return In(this.element,i,a,o,this.duration,this.startTime,this.easing,!1)}},En=class extends Lt{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,n,i,a,o,s=!1){super(t,e,o.delay),this.keyframes=n,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){let a=[],o=n+e,s=e/o,l=new Map(t[0]);l.set("offset",0),a.push(l);let c=new Map(t[0]);c.set("offset",Rr(s)),a.push(c);let p=t.length-1;for(let m=1;m<=p;m++){let S=new Map(t[m]),k=S.get("offset"),h=e+k*n;S.set("offset",Rr(h/o)),a.push(S)}n=o,e=0,i="",t=a}return In(this.element,t,this.preStyleProps,this.postStyleProps,n,e,i,!0)}};function Rr(r,t=3){let e=Math.pow(10,t-1);return Math.round(r*e)/e}function za(r,t){let e=new Map,n;return r.forEach(i=>{if(i==="*"){n??=t.keys();for(let a of n)e.set(a,re)}else for(let[a,o]of i)e.set(a,o)}),e}function Lr(r,t,e,n,i,a,o,s,l,c,p,m,S){return{type:0,element:r,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:a,toState:n,toStyles:o,timelines:s,queriedElements:l,preStyleProps:c,postStyleProps:p,totalTime:m,errors:S}}var fn={},Bt=class{_triggerName;ast;_stateStyles;constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,i){return Va(this.ast.matchers,t,e,n,i)}buildStyles(t,e,n){let i=this._stateStyles.get("*");return t!==void 0&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(e,n):new Map}build(t,e,n,i,a,o,s,l,c,p){let m=[],S=this.ast.options&&this.ast.options.params||fn,k=s&&s.params||fn,h=this.buildStyles(n,k,m),v=l&&l.params||fn,I=this.buildStyles(i,v,m),N=new Set,F=new Map,q=new Map,B=i==="void",xe={params:$r(v,S),delay:this.ast.options?.delay},se=p?[]:Ur(t,e,this.ast.animation,a,o,h,I,xe,c,m),K=0;return se.forEach(Q=>{K=Math.max(Q.duration+Q.delay,K)}),m.length?Lr(e,this._triggerName,n,i,B,h,I,[],[],F,q,K,m):(se.forEach(Q=>{let _e=Q.element,Oe=W(F,_e,new Set);Q.preStyleProps.forEach(be=>Oe.add(be));let Rn=W(q,_e,new Set);Q.postStyleProps.forEach(be=>Rn.add(be)),_e!==e&&N.add(_e)}),Lr(e,this._triggerName,n,i,B,h,I,se,[...N.values()],F,q,K))}};function Va(r,t,e,n,i){return r.some(a=>a(t,e,n,i))}function $r(r,t){let e=pe({},t);return Object.entries(r).forEach(([n,i])=>{i!=null&&(e[n]=i)}),e}var Mn=class{styles;defaultParams;normalizer;constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){let n=new Map,i=$r(t,this.defaultParams);return this.styles.styles.forEach(a=>{typeof a!="string"&&a.forEach((o,s)=>{o&&(o=Ge(o,i,e));let l=this.normalizer.normalizePropertyName(s,e);o=this.normalizer.normalizeStyleValue(s,l,o,e),n.set(s,o)})}),n}};function Ga(r,t,e){return new wn(r,t,e)}var wn=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,e.states.forEach(i=>{let a=i.options&&i.options.params||{};this.states.set(i.name,new Mn(i.style,a,n))}),Br(this.states,"true","1"),Br(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new Bt(t,i,this.states))}),this.fallbackTransition=qa(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,i){return this.transitionFactories.find(o=>o.match(t,e,n,i))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}};function qa(r,t,e){let n=[(o,s)=>!0],i={type:E.Sequence,steps:[],options:null},a={type:E.Transition,animation:i,matchers:n,options:null,queryCount:0,depCount:0};return new Bt(r,a,t)}function Br(r,t,e){r.has(t)?r.has(e)||r.set(e,r.get(t)):r.has(e)&&r.set(t,r.get(e))}var Ka=new Ze,Cn=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n}register(t,e){let n=[],i=[],a=Qr(this._driver,e,n,i);if(n.length)throw br(n);this._animations.set(t,a)}_buildPlayer(t,e,n){let i=t.element,a=sn(this._normalizer,t.keyframes,e,n);return this._driver.animate(i,a,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){let i=[],a=this._animations.get(t),o,s=new Map;if(a?(o=Ur(this._driver,e,a,mn,wt,new Map,new Map,n,Ka,i),o.forEach(p=>{let m=W(s,p.element,new Map);p.postStyleProps.forEach(S=>m.set(S,null))})):(i.push(vr()),o=[]),i.length)throw kr(i);s.forEach((p,m)=>{p.forEach((S,k)=>{p.set(k,this._driver.computeStyle(m,k,re))})});let l=o.map(p=>{let m=s.get(p.element);return this._buildPlayer(p,new Map,m)}),c=ue(l);return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw Sr(t);return e}listen(t,e,n,i){let a=Et(e,"","","");return Tt(this._getPlayer(t),n,a,i),()=>{}}command(t,e,n,i){if(n=="register"){this.register(t,i[0]);return}if(n=="create"){let o=i[0]||{};this.create(t,e,o);return}let a=this._getPlayer(t);switch(n){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t);break}}},zr="ng-animate-queued",ja=".ng-animate-queued",yn="ng-animate-disabled",Qa=".ng-animate-disabled",Ua="ng-star-inserted",$a=".ng-star-inserted",Wa=[],Wr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ha={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},oe="__ng_removed",et=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let n=t&&t.hasOwnProperty("value"),i=n?t.value:t;if(this.value=Xa(i),n){let a=t,{value:o}=a,s=Vn(a,["value"]);this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let n=this.options.params;Object.keys(e).forEach(i=>{n[i]==null&&(n[i]=e[i])})}}},Je="void",_n=new et(Je),Pn=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this._hostClassName="ng-tns-"+t,ne(e,this._hostClassName)}listen(t,e,n,i){if(!this._triggers.has(e))throw Tr(n,e);if(n==null||n.length==0)throw Er(e);if(!Ja(n))throw Mr(n,e);let a=W(this._elementListeners,t,[]),o={name:e,phase:n,callback:i};a.push(o);let s=W(this._engine.statesByElement,t,new Map);return s.has(e)||(ne(t,He),ne(t,He+"-"+e),s.set(e,_n)),()=>{this._engine.afterFlush(()=>{let l=a.indexOf(o);l>=0&&a.splice(l,1),this._triggers.has(e)||s.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw wr(t);return e}trigger(t,e,n,i=!0){let a=this._getTrigger(e),o=new tt(this.id,e,t),s=this._engine.statesByElement.get(t);s||(ne(t,He),ne(t,He+"-"+e),this._engine.statesByElement.set(t,s=new Map));let l=s.get(e),c=new et(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),s.set(e,c),l||(l=_n),!(c.value===Je)&&l.value===c.value){if(!to(l.params,c.params)){let v=[],I=a.matchStyles(l.value,l.params,v),N=a.matchStyles(c.value,c.params,v);v.length?this._engine.reportError(v):this._engine.afterFlush(()=>{ye(t,I),ae(t,N)})}return}let S=W(this._engine.playersByElement,t,[]);S.forEach(v=>{v.namespaceId==this.id&&v.triggerName==e&&v.queued&&v.destroy()});let k=a.matchTransition(l.value,c.value,t,c.params),h=!1;if(!k){if(!i)return;k=a.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:k,fromState:l,toState:c,player:o,isFallbackTransition:h}),h||(ne(t,zr),o.onStart(()=>{qe(t,zr)})),o.onDone(()=>{let v=this.players.indexOf(o);v>=0&&this.players.splice(v,1);let I=this._engine.playersByElement.get(t);if(I){let N=I.indexOf(o);N>=0&&I.splice(N,1)}}),this.players.push(o),S.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let n=this._engine.driver.query(t,Ye,!0);n.forEach(i=>{if(i[oe])return;let a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(o=>o.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,n,i){let a=this._engine.statesByElement.get(t),o=new Map;if(a){let s=[];if(a.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let p=this.trigger(t,c,Je,i);p&&s.push(p)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),n&&ue(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){let i=new Set;e.forEach(a=>{let o=a.name;if(i.has(o))return;i.add(o);let l=this._triggers.get(o).fallbackTransition,c=n.get(o)||_n,p=new et(Je),m=new tt(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:p,player:m,isFallbackTransition:!0})})}}removeNode(t,e){let n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(n.totalAnimations){let a=n.players.length?n.playersByQueriedElement.get(t):[];if(a&&a.length)i=!0;else{let o=t;for(;o=o.parentNode;)if(n.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)n.markElementAsRemoved(this.id,t,!1,e);else{let a=t[oe];(!a||a===Wr)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){ne(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(n=>{let i=n.player;if(i.destroyed)return;let a=n.element,o=this._elementListeners.get(a);o&&o.forEach(s=>{if(s.name==n.triggerName){let l=Et(a,n.triggerName,n.fromState.value,n.toState.value);l._data=t,Tt(n.player,s.phase,l,s.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(n)}),this._queue=[],e.sort((n,i)=>{let a=n.transition.ast.depCount,o=i.transition.ast.depCount;return a==0||o==0?a-o:this._engine.driver.containsElement(n.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},xn=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,e){let n=new Pn(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){let n=this._namespaceList,i=this.namespacesByHostElement;if(n.length-1>=0){let o=!1,s=this.driver.getParentElement(e);for(;s;){let l=i.get(s);if(l){let c=n.indexOf(l);n.splice(c+1,0,t),o=!0;break}s=this.driver.getParentElement(s)}o||n.unshift(t)}else n.push(t);return i.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(t);this.namespacesByHostElement.delete(n.hostElement);let i=this._namespaceList.indexOf(n);i>=0&&this._namespaceList.splice(i,1),n.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,n=this.statesByElement.get(t);if(n){for(let i of n.values())if(i.namespaceId){let a=this._fetchNamespace(i.namespaceId);a&&e.add(a)}}return e}trigger(t,e,n,i){if(It(e)){let a=this._fetchNamespace(t);if(a)return a.trigger(e,n,i),!0}return!1}insertNode(t,e,n,i){if(!It(e))return;let a=e[oe];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;let o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){let o=this._fetchNamespace(t);o&&o.insertNode(e,n)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ne(t,yn)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),qe(t,yn))}removeNode(t,e,n){if(It(e)){let i=t?this._fetchNamespace(t):null;i?i.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n);let a=this.namespacesByHostElement.get(e);a&&a.id!==t&&a.removeNode(e,n)}else this._onRemovalComplete(e,n)}markElementAsRemoved(t,e,n,i,a){this.collectedLeaveElements.push(e),e[oe]={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:a}}listen(t,e,n,i,a){return It(e)?this._fetchNamespace(t).listen(e,n,i,a):()=>{}}_buildInstruction(t,e,n,i,a){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,a)}destroyInnerAnimations(t){let e=this.driver.query(t,Ye,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,Ct,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return ue(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[oe];if(e&&e.setForRemoval){if(t[oe]=Wr,e.namespaceId){this.destroyInnerAnimations(t);let n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(yn)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Qa,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,i)=>this._balanceNamespaceList(n,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let i=this.collectedEnterElements[n];ne(i,Ua)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{e=this._flushAnimations(n,t)}finally{for(let i=0;i<n.length;i++)n[i]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let i=this.collectedLeaveElements[n];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],e.length?ue(e).onDone(()=>{n.forEach(i=>i())}):n.forEach(i=>i())}}reportError(t){throw Cr(t)}_flushAnimations(t,e){let n=new Ze,i=[],a=new Map,o=[],s=new Map,l=new Map,c=new Map,p=new Set;this.disabledNodes.forEach(g=>{p.add(g);let f=this.driver.query(g,ja,!0);for(let _=0;_<f.length;_++)p.add(f[_])});let m=this.bodyNode,S=Array.from(this.statesByElement.keys()),k=qr(S,this.collectedEnterElements),h=new Map,v=0;k.forEach((g,f)=>{let _=mn+v++;h.set(f,_),g.forEach(M=>ne(M,_))});let I=[],N=new Set,F=new Set;for(let g=0;g<this.collectedLeaveElements.length;g++){let f=this.collectedLeaveElements[g],_=f[oe];_&&_.setForRemoval&&(I.push(f),N.add(f),_.hasAnimation?this.driver.query(f,$a,!0).forEach(M=>N.add(M)):F.add(f))}let q=new Map,B=qr(S,Array.from(N));B.forEach((g,f)=>{let _=wt+v++;q.set(f,_),g.forEach(M=>ne(M,_))}),t.push(()=>{k.forEach((g,f)=>{let _=h.get(f);g.forEach(M=>qe(M,_))}),B.forEach((g,f)=>{let _=q.get(f);g.forEach(M=>qe(M,_))}),I.forEach(g=>{this.processLeaveNode(g)})});let xe=[],se=[];for(let g=this._namespaceList.length-1;g>=0;g--)this._namespaceList[g].drainQueuedTransitions(e).forEach(_=>{let M=_.player,R=_.element;if(xe.push(M),this.collectedEnterElements.length){let G=R[oe];if(G&&G.setForMove){if(G.previousTriggersValues&&G.previousTriggersValues.has(_.triggerName)){let ve=G.previousTriggersValues.get(_.triggerName),X=this.statesByElement.get(_.element);if(X&&X.has(_.triggerName)){let nt=X.get(_.triggerName);nt.value=ve,X.set(_.triggerName,nt)}}M.destroy();return}}let le=!m||!this.driver.containsElement(m,R),Y=q.get(R),me=h.get(R),D=this._buildInstruction(_,n,me,Y,le);if(D.errors&&D.errors.length){se.push(D);return}if(le){M.onStart(()=>ye(R,D.fromStyles)),M.onDestroy(()=>ae(R,D.toStyles)),i.push(M);return}if(_.isFallbackTransition){M.onStart(()=>ye(R,D.fromStyles)),M.onDestroy(()=>ae(R,D.toStyles)),i.push(M);return}let zn=[];D.timelines.forEach(G=>{G.stretchStartingKeyframe=!0,this.disabledNodes.has(G.element)||zn.push(G)}),D.timelines=zn,n.append(R,D.timelines);let ua={instruction:D,player:M,element:R};o.push(ua),D.queriedElements.forEach(G=>W(s,G,[]).push(M)),D.preStyleProps.forEach((G,ve)=>{if(G.size){let X=l.get(ve);X||l.set(ve,X=new Set),G.forEach((nt,Ut)=>X.add(Ut))}}),D.postStyleProps.forEach((G,ve)=>{let X=c.get(ve);X||c.set(ve,X=new Set),G.forEach((nt,Ut)=>X.add(Ut))})});if(se.length){let g=[];se.forEach(f=>{g.push(Pr(f.triggerName,f.errors))}),xe.forEach(f=>f.destroy()),this.reportError(g)}let K=new Map,Q=new Map;o.forEach(g=>{let f=g.element;n.has(f)&&(Q.set(f,f),this._beforeAnimationBuild(g.player.namespaceId,g.instruction,K))}),i.forEach(g=>{let f=g.element;this._getPreviousPlayers(f,!1,g.namespaceId,g.triggerName,null).forEach(M=>{W(K,f,[]).push(M),M.destroy()})});let _e=I.filter(g=>Kr(g,l,c)),Oe=new Map;Gr(Oe,this.driver,F,c,re).forEach(g=>{Kr(g,l,c)&&_e.push(g)});let be=new Map;k.forEach((g,f)=>{Gr(be,this.driver,new Set(g),l,We)}),_e.forEach(g=>{let f=Oe.get(g),_=be.get(g);Oe.set(g,new Map([...f?.entries()??[],..._?.entries()??[]]))});let Qt=[],Ln=[],Bn={};o.forEach(g=>{let{element:f,player:_,instruction:M}=g;if(n.has(f)){if(p.has(f)){_.onDestroy(()=>ae(f,M.toStyles)),_.disabled=!0,_.overrideTotalTime(M.totalTime),i.push(_);return}let R=Bn;if(Q.size>1){let Y=f,me=[];for(;Y=Y.parentNode;){let D=Q.get(Y);if(D){R=D;break}me.push(Y)}me.forEach(D=>Q.set(D,R))}let le=this._buildAnimation(_.namespaceId,M,K,a,be,Oe);if(_.setRealPlayer(le),R===Bn)Qt.push(_);else{let Y=this.playersByElement.get(R);Y&&Y.length&&(_.parentPlayer=ue(Y)),i.push(_)}}else ye(f,M.fromStyles),_.onDestroy(()=>ae(f,M.toStyles)),Ln.push(_),p.has(f)&&i.push(_)}),Ln.forEach(g=>{let f=a.get(g.element);if(f&&f.length){let _=ue(f);g.setRealPlayer(_)}}),i.forEach(g=>{g.parentPlayer?g.syncPlayerEvents(g.parentPlayer):g.destroy()});for(let g=0;g<I.length;g++){let f=I[g],_=f[oe];if(qe(f,wt),_&&_.hasAnimation)continue;let M=[];if(s.size){let le=s.get(f);le&&le.length&&M.push(...le);let Y=this.driver.query(f,Ct,!0);for(let me=0;me<Y.length;me++){let D=s.get(Y[me]);D&&D.length&&M.push(...D)}}let R=M.filter(le=>!le.destroyed);R.length?Za(this,f,R):this.processLeaveNode(f)}return I.length=0,Qt.forEach(g=>{this.players.push(g),g.onDone(()=>{g.destroy();let f=this.players.indexOf(g);this.players.splice(f,1)}),g.play()}),Qt}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,i,a){let o=[];if(e){let s=this.playersByQueriedElement.get(t);s&&(o=s)}else{let s=this.playersByElement.get(t);if(s){let l=!a||a==Je;s.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(n||i)&&(o=o.filter(s=>!(n&&n!=s.namespaceId||i&&i!=s.triggerName))),o}_beforeAnimationBuild(t,e,n){let i=e.triggerName,a=e.element,o=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:i;for(let l of e.timelines){let c=l.element,p=c!==a,m=W(n,c,[]);this._getPreviousPlayers(c,p,o,s,e.toState).forEach(k=>{let h=k.getRealPlayer();h.beforeDestroy&&h.beforeDestroy(),k.destroy(),m.push(k)})}ye(a,e.fromStyles)}_buildAnimation(t,e,n,i,a,o){let s=e.triggerName,l=e.element,c=[],p=new Set,m=new Set,S=e.timelines.map(h=>{let v=h.element;p.add(v);let I=v[oe];if(I&&I.removedBeforeQueried)return new Te(h.duration,h.delay);let N=v!==l,F=eo((n.get(v)||Wa).map(K=>K.getRealPlayer())).filter(K=>{let Q=K;return Q.element?Q.element===v:!1}),q=a.get(v),B=o.get(v),xe=sn(this._normalizer,h.keyframes,q,B),se=this._buildPlayer(h,xe,F);if(h.subTimeline&&i&&m.add(v),N){let K=new tt(t,s,v);K.setRealPlayer(se),c.push(K)}return se});c.forEach(h=>{W(this.playersByQueriedElement,h.element,[]).push(h),h.onDone(()=>Ya(this.playersByQueriedElement,h.element,h))}),p.forEach(h=>ne(h,pn));let k=ue(S);return k.onDestroy(()=>{p.forEach(h=>qe(h,pn)),ae(l,e.toStyles)}),m.forEach(h=>{W(i,h,[]).push(k)}),k}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Te(t.duration,t.delay)}},tt=class{namespaceId;triggerName;element;_player=new Te;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,n)=>{e.forEach(i=>Tt(t,n,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){W(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function Ya(r,t,e){let n=r.get(t);if(n){if(n.length){let i=n.indexOf(e);n.splice(i,1)}n.length==0&&r.delete(t)}return n}function Xa(r){return r??null}function It(r){return r&&r.nodeType===1}function Ja(r){return r=="start"||r=="done"}function Vr(r,t){let e=r.style.display;return r.style.display=t??"none",e}function Gr(r,t,e,n,i){let a=[];e.forEach(l=>a.push(Vr(l)));let o=[];n.forEach((l,c)=>{let p=new Map;l.forEach(m=>{let S=t.computeStyle(c,m,i);p.set(m,S),(!S||S.length==0)&&(c[oe]=Ha,o.push(c))}),r.set(c,p)});let s=0;return e.forEach(l=>Vr(l,a[s++])),o}function qr(r,t){let e=new Map;if(r.forEach(s=>e.set(s,[])),t.length==0)return e;let n=1,i=new Set(t),a=new Map;function o(s){if(!s)return n;let l=a.get(s);if(l)return l;let c=s.parentNode;return e.has(c)?l=c:i.has(c)?l=n:l=o(c),a.set(s,l),l}return t.forEach(s=>{let l=o(s);l!==n&&e.get(l).push(s)}),e}function ne(r,t){r.classList?.add(t)}function qe(r,t){r.classList?.remove(t)}function Za(r,t,e){ue(e).onDone(()=>r.processLeaveNode(t))}function eo(r){let t=[];return Hr(r,t),t}function Hr(r,t){for(let e=0;e<r.length;e++){let n=r[e];n instanceof pt?Hr(n.players,t):t.push(n)}}function to(r,t){let e=Object.keys(r),n=Object.keys(t);if(e.length!=n.length)return!1;for(let i=0;i<e.length;i++){let a=e[i];if(!t.hasOwnProperty(a)||r[a]!==t[a])return!1}return!0}function Kr(r,t,e){let n=e.get(r);if(!n)return!1;let i=t.get(r);return i?n.forEach(a=>i.add(a)):t.set(r,n),e.delete(r),!0}var Ke=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,n){this._driver=e,this._normalizer=n,this._transitionEngine=new xn(t.body,e,n),this._timelineEngine=new Cn(t.body,e,n),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(t,e,n,i,a){let o=t+"-"+i,s=this._triggerCache[o];if(!s){let l=[],c=[],p=Qr(this._driver,a,l,c);if(l.length)throw _r(i,l);s=Ga(i,p,this._normalizer),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,i,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}onRemove(t,e,n){this._transitionEngine.removeNode(t,e,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,i){if(n.charAt(0)=="@"){let[a,o]=ln(n),s=i;this._timelineEngine.command(a,e,o,s)}else this._transitionEngine.trigger(t,e,n,i)}listen(t,e,n,i,a){if(n.charAt(0)=="@"){let[o,s]=ln(n);return this._timelineEngine.listen(o,e,s,a)}return this._transitionEngine.listen(t,e,n,i,a)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function no(r,t){let e=null,n=null;return Array.isArray(t)&&t.length?(e=bn(t[0]),t.length>1&&(n=bn(t[t.length-1]))):t instanceof Map&&(e=bn(t)),e||n?new io(r,e,n):null}var io=(()=>{class r{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i;let a=r.initialStylesByElement.get(e);a||r.initialStylesByElement.set(e,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&ae(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ae(this._element,this._initialStyles),this._endStyles&&(ae(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(ye(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ye(this._element,this._endStyles),this._endStyles=null),ae(this._element,this._initialStyles),this._state=3)}}return r})();function bn(r){let t=null;return r.forEach((e,n)=>{ro(n)&&(t=t||new Map,t.set(n,e))}),t}function ro(r){return r==="display"||r==="position"}var zt=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,n,i){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=i,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(t,e,n){return t.animate(this._convertKeyframesToObject(e),n)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,i)=>{i!=="offset"&&t.set(i,this._finished?n:xt(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},Vt=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return cn(t,e)}getParentElement(t){return Mt(t)}query(t,e,n){return dn(t,e,n)}computeStyle(t,e,n){return xt(t,e)}animate(t,e,n,i,a,o=[]){let s=i==0?"both":"forwards",l={duration:n,delay:i,fill:s};a&&(l.easing=a);let c=new Map,p=o.filter(k=>k instanceof zt);Ir(n,i)&&p.forEach(k=>{k.currentSnapshot.forEach((h,v)=>c.set(v,h))});let m=Or(e).map(k=>new Map(k));m=Dr(t,m,c);let S=no(t,m);return new zt(t,m,l,S)}};var Dt="@",Yr="@.disabled",Gt=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,n,i){this.namespaceId=t,this.delegate=e,this.engine=n,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,i=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,n){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==Dt&&e==Yr?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n,i){return this.delegate.listen(t,e,n,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},On=class extends Gt{factory;constructor(t,e,n,i,a){super(e,n,i,a),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==Dt?e.charAt(1)=="."&&e==Yr?(n=n===void 0?!0:!!n,this.disableAnimations(t,n)):this.engine.process(this.namespaceId,t,e.slice(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n,i){if(e.charAt(0)==Dt){let a=ao(t),o=e.slice(1),s="";return o.charAt(0)!=Dt&&([o,s]=oo(o)),this.engine.listen(this.namespaceId,a,o,s,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,n,l)})}return this.delegate.listen(t,e,n,i)}};function ao(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}function oo(r){let t=r.indexOf("."),e=r.substring(0,t),n=r.slice(t+1);return[e,n]}var qt=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,e.onRemovalComplete=(i,a)=>{a?.removeChild(null,i)}}createRenderer(t,e){let n="",i=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let c=this._rendererCache,p=c.get(i);if(!p){let m=()=>c.delete(i);p=new Gt(n,i,this.engine,m),c.set(i,p)}return p}let a=e.id,o=e.id+"-"+this._currentId;this._currentId++,this.engine.register(o,t);let s=c=>{Array.isArray(c)?c.forEach(s):this.engine.registerTrigger(a,o,t,c.name,c)};return e.data.animation.forEach(s),new On(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(n));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(a=>{let[o,s]=a;o(s)}),this._animationCallbacksBuffer=[]})}),i.push([e,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var lo=(()=>{class r extends Ke{constructor(e,n,i){super(e,n,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(n){return new(n||r)(at(ri),at(we),at(Ce))};static \u0275prov=rt({token:r,factory:r.\u0275fac})}return r})();function co(){return new Nt}function uo(r,t,e){return new qt(r,t,e)}var Xr=[{provide:Ce,useFactory:co},{provide:Ke,useClass:lo},{provide:Wn,useFactory:uo,deps:[oi,Ke,Qn]}],as=[{provide:we,useClass:An},{provide:je,useValue:"NoopAnimations"},...Xr],mo=[{provide:we,useFactory:()=>new Vt},{provide:je,useFactory:()=>"BrowserAnimations"},...Xr];function Jr(){return $n("NgEagerAnimations"),[...mo]}function po(r,t){r&1&&(d(0,"div",20)(1,"mat-icon",21),y(2,"history_toggle_off"),u(),d(3,"span"),y(4,"Anterior tarea activa sin terminar"),u()())}function go(r,t){r&1&&(d(0,"div",22)(1,"mat-icon",23),y(2,"pending_actions"),u(),d(3,"span"),y(4,"Tarea sin terminar"),u()())}function ho(r,t){if(r&1){let e=$();d(0,"button",10),C("click",function(){let i=x(e).$implicit,a=A();return O(a.onChangePriority(i))}),d(1,"span"),y(2),lt(3,"priorityTranslate"),u()()}if(r&2){let e=t.$implicit;b(2),ee(ct(3,1,e))}}function fo(r,t){if(r&1&&(d(0,"div",24)(1,"div",25)(2,"p",26),y(3),u()()()),r&2){let e=A();b(2),ke("expanded-description",e.isDescriptionExpanded),b(),Se(" ",e.trimmedDescription," ")}}function yo(r,t){if(r&1){let e=$();d(0,"div",27),V(1,"div",28),d(2,"button",29),C("click",function(){x(e);let i=A();return O(i.toggleDescriptionExpansion())}),y(3),u()()}if(r&2){let e=A();b(3),Se(" ",e.isDescriptionExpanded?"Menos":"Expandir"," ")}}var ta=(()=>{class r{constructor(e){this.taskService=e,this.edit=new J,this.isActive=!1,this.isDescriptionExpanded=!1,this.DESCRIPTION_TRUNCATE_LENGTH=60,this.availablePriorities=[P.URGENT,P.HIGH,P.NORMAL,P.LOW]}ngOnInit(){this.activeTaskSubscription=this.taskService.activeTask$.subscribe(e=>{this.isActive=e?.id===this.task.id})}ngOnDestroy(){this.timer&&clearTimeout(this.timer),this.activeTaskSubscription&&this.activeTaskSubscription.unsubscribe()}get hasDescription(){return!!(this.task.description&&this.task.description.trim().length>0)}get trimmedDescription(){return this.task.description?this.task.description.trim():""}get displayDescription(){return this.hasDescription?this.isDescriptionExpanded?this.trimmedDescription:this.trimmedDescription.slice(0,this.DESCRIPTION_TRUNCATE_LENGTH):""}get showEllipsis(){return this.hasDescription&&!this.isDescriptionExpanded&&this.trimmedDescription.length>this.DESCRIPTION_TRUNCATE_LENGTH}get showExpandButton(){return this.hasDescription}get showAnteriorTareaActivaSinTerminarMarker(){return!!this.task.wasPreviouslyActive&&!!this.task.isMostRecentPreviouslyActive}get showTareaSinTerminarMarker(){return!!this.task.wasPreviouslyActive&&!this.task.isMostRecentPreviouslyActive}onEdit(){this.edit.emit(this.task)}onDelete(){this.taskService.deleteTask(this.task.id)}onToggleActivation(){this.taskService.setActiveTask(this.task.id)}onChangePriority(e){this.task&&this.taskService.updateTask(it(pe({},this.task),{priority:e}))}toggleDescriptionExpansion(){this.isDescriptionExpanded=!this.isDescriptionExpanded}getPriorityIcon(e){switch(e){case P.URGENT:return"error_outline";case P.HIGH:return"warning_amber";case P.NORMAL:return"info_outline";case P.LOW:return"low_priority";default:return"label_outlined"}}getPriorityButtonStyles(){switch(this.task.priority){case P.URGENT:return{"background-color":"var(--app-light-priority-urgent-bg)",color:"var(--app-light-priority-urgent-text)"};case P.HIGH:return{"background-color":"var(--app-light-priority-high-bg)",color:"var(--app-light-priority-high-text)"};case P.NORMAL:return{"background-color":"var(--app-light-priority-normal-bg)",color:"var(--app-light-priority-normal-text)"};case P.LOW:return{"background-color":"var(--app-light-priority-low-bg)",color:"var(--app-light-priority-low-text)"};default:return{}}}getTaskCardClasses(){return{}}static{this.\u0275fac=function(n){return new(n||r)(j(Be))}}static{this.\u0275cmp=Z({type:r,selectors:[["app-task-item"]],inputs:{task:"task"},outputs:{edit:"edit"},decls:42,vars:16,consts:[["taskMenu","matMenu"],["priorityMenu","matMenu"],[1,"m3-task-item-card",3,"ngClass"],["class","m3-previous-active-marker",4,"ngIf"],["class","m3-started-task-marker",4,"ngIf"],[1,"m3-task-item-main-content-wrapper"],[1,"m3-card-row","m3-card-header-row"],[1,"m3-task-main-info"],["mat-icon-button","","aria-label","Opciones de tarea",1,"m3-icon-button-sm","m3-task-options-button",3,"matMenuTriggerFor"],[1,"m3-task-options-menu"],["mat-menu-item","",3,"click"],[1,"m3-title-subtitle-group"],[1,"m3-task-title"],[1,"m3-task-subtitle"],[1,"m3-task-meta-info"],["mat-flat-button","",1,"m3-priority-tonal-button",3,"ngStyle","matMenuTriggerFor"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-icon-button","","aria-label","Activar tarea",1,"m3-icon-tonal-button","m3-play-pause-button-item",3,"click"],["class","m3-card-row m3-card-content-row",4,"ngIf"],["class","m3-task-item-footer",4,"ngIf"],[1,"m3-previous-active-marker"],[1,"m3-previous-active-icon"],[1,"m3-started-task-marker"],[1,"m3-started-task-icon"],[1,"m3-card-row","m3-card-content-row"],[1,"m3-task-description-container"],[1,"m3-task-description"],[1,"m3-task-item-footer"],[1,"m3-footer-divider"],["mat-button","",1,"m3-button-expand",3,"click"]],template:function(n,i){if(n&1){let a=$();d(0,"mat-card",2),L(1,po,5,0,"div",3)(2,go,5,0,"div",4),d(3,"div",5)(4,"div",6)(5,"div",7)(6,"button",8)(7,"mat-icon"),y(8,"more_vert"),u()(),d(9,"mat-menu",9,0)(11,"button",10),C("click",function(){return x(a),O(i.onEdit())}),d(12,"mat-icon"),y(13,"edit_outlined"),u(),d(14,"span"),y(15,"Editar"),u()(),d(16,"button",10),C("click",function(){return x(a),O(i.onDelete())}),d(17,"mat-icon"),y(18,"delete_outline"),u(),d(19,"span"),y(20,"Eliminar"),u()()(),d(21,"div",11)(22,"h3",12),y(23),u(),d(24,"span",13),y(25),lt(26,"timeAgo"),u()()(),d(27,"div",14)(28,"button",15)(29,"span"),y(30),lt(31,"priorityTranslate"),u(),d(32,"mat-icon"),y(33,"arrow_drop_down"),u()(),d(34,"mat-menu",null,1),L(36,ho,4,3,"button",16),u(),d(37,"button",17),C("click",function(){return x(a),O(i.onToggleActivation())}),d(38,"mat-icon"),y(39,"play_arrow"),u()()()(),L(40,fo,4,3,"div",18),u(),L(41,yo,4,1,"div",19),u()}if(n&2){let a=$e(10),o=$e(35);T("ngClass",i.getTaskCardClasses()),b(),T("ngIf",i.showAnteriorTareaActivaSinTerminarMarker),b(),T("ngIf",i.showTareaSinTerminarMarker),b(4),T("matMenuTriggerFor",a),b(17),ee(i.task.title),b(2),ee(ct(26,12,i.task.createdAt)),b(3),T("ngStyle",i.getPriorityButtonStyles())("matMenuTriggerFor",o),b(2),ee(ct(31,14,i.task.priority)),b(6),T("ngForOf",i.availablePriorities),b(4),T("ngIf",i.isDescriptionExpanded&&i.hasDescription),b(),T("ngIf",i.showExpandButton)}},dependencies:[te,dt,Ae,ge,ai,bt,wi,ce,fe,he,De,Ie,yt,ki,vi,Si,Yi,Xi],styles:['.m3-task-item-card[_ngcontent-%COMP%]{background-color:var(--app-light-surface-container-lowest, #FBF9EF);color:var(--app-light-on-surface);border-radius:var(--app-border-radius-card);padding:0;margin-bottom:var(--app-spacing-inter-task-gap);border:1px solid var(--app-light-outline-variant, transparent);display:flex;flex-direction:column;position:relative}.m3-previous-active-marker[_ngcontent-%COMP%]{font-size:var(--app-font-size-label-small, 11px);font-weight:500;color:#1c1b1f;padding:4px 8px;background-color:#ffe79d!important;text-align:center;display:inline-flex;align-items:center;justify-content:center;gap:4px;width:100%;box-sizing:border-box;border-top-left-radius:var(--app-border-radius-card);border-top-right-radius:var(--app-border-radius-card)}.dark-theme[_ngcontent-%COMP%]   .m3-previous-active-marker[_ngcontent-%COMP%]{background-color:#5e5842!important;color:#e6e1e5}.m3-previous-active-marker[_ngcontent-%COMP%]   .m3-previous-active-icon.mat-icon[_ngcontent-%COMP%], .m3-started-task-marker[_ngcontent-%COMP%]   .m3-started-task-icon.mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;line-height:18px}.m3-started-task-marker[_ngcontent-%COMP%]{font-size:var(--app-font-size-label-small, 11px);font-weight:500;color:var(--app-light-on-surface-variant, #49454F);padding:4px 8px;background-color:var(--app-light-surface-container-high, #F0EEEF);text-align:center;display:inline-flex;align-items:center;justify-content:center;gap:4px;width:100%;box-sizing:border-box;border-top-left-radius:var(--app-border-radius-card);border-top-right-radius:var(--app-border-radius-card)}.dark-theme[_ngcontent-%COMP%]   .m3-started-task-marker[_ngcontent-%COMP%]{background-color:var(--app-dark-surface-container-high, #49454F);color:var(--app-dark-on-surface-variant, #CAC4D0)}.m3-task-item-main-content-wrapper[_ngcontent-%COMP%]{padding:var(--app-spacing-card-padding)}.dark-theme[_ngcontent-%COMP%]   .m3-task-item-card[_ngcontent-%COMP%]{background-color:var(--app-dark-surface-container-lowest, #201F1B);color:var(--app-dark-on-surface);border-color:var(--app-dark-outline-variant, transparent)}.m3-card-row[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:var(--app-spacing-internal-card-large)}.m3-card-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.m3-card-header-row[_ngcontent-%COMP%]{justify-content:space-between;gap:var(--app-spacing-internal-card-primary)}.m3-task-main-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--app-spacing-internal-card-secondary);flex-grow:1;min-width:0}.m3-icon-button-sm.m3-task-options-button[_ngcontent-%COMP%]{color:var(--app-light-on-surface-variant);width:36px;height:36px}.dark-theme[_ngcontent-%COMP%]   .m3-icon-button-sm.m3-task-options-button[_ngcontent-%COMP%]{color:var(--app-dark-on-surface-variant)}.m3-title-subtitle-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;min-width:0}.m3-task-title[_ngcontent-%COMP%]{font-size:var(--app-font-size-task-title);font-weight:var(--app-font-weight-task-title);color:var(--app-light-on-surface);margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.dark-theme[_ngcontent-%COMP%]   .m3-task-title[_ngcontent-%COMP%]{color:var(--app-dark-on-surface)}.m3-task-subtitle[_ngcontent-%COMP%]{font-size:var(--app-font-size-task-subtitle);font-weight:var(--app-font-weight-task-subtitle);color:var(--app-light-on-surface-variant);margin:0}.dark-theme[_ngcontent-%COMP%]   .m3-task-subtitle[_ngcontent-%COMP%]{color:var(--app-dark-on-surface-variant)}.m3-task-meta-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--app-spacing-internal-card-primary);flex-shrink:0}.m3-priority-chip[_ngcontent-%COMP%]{border-radius:var(--app-border-radius-chip, 8px);padding:4px 12px;font-size:var(--app-font-size-chip, 12px);font-weight:var(--app-font-weight-chip, 500);display:inline-flex;align-items:center;line-height:20px;min-height:28px;height:28px;box-sizing:border-box;border:1px solid transparent}.m3-priority-chip.priority-urgent[_ngcontent-%COMP%]{background-color:var(--app-light-priority-urgent-bg);color:var(--app-light-priority-urgent-text);border-color:var(--app-light-priority-urgent-bg)}.dark-theme[_ngcontent-%COMP%]   .m3-priority-chip.priority-urgent[_ngcontent-%COMP%]{background-color:var(--app-dark-priority-urgent-bg);color:var(--app-dark-priority-urgent-text);border-color:var(--app-dark-priority-urgent-bg)}.m3-priority-chip.priority-high[_ngcontent-%COMP%]{background-color:var(--app-light-priority-high-bg);color:var(--app-light-priority-high-text);border-color:var(--app-light-priority-high-bg)}.dark-theme[_ngcontent-%COMP%]   .m3-priority-chip.priority-high[_ngcontent-%COMP%]{background-color:var(--app-dark-priority-high-bg);color:var(--app-dark-priority-high-text);border-color:var(--app-dark-priority-high-bg)}.m3-priority-chip.priority-normal[_ngcontent-%COMP%]{background-color:var(--app-light-priority-normal-bg);color:var(--app-light-priority-normal-text);border-color:var(--app-light-priority-normal-bg)}.dark-theme[_ngcontent-%COMP%]   .m3-priority-chip.priority-normal[_ngcontent-%COMP%]{background-color:var(--app-dark-priority-normal-bg);color:var(--app-dark-priority-normal-text);border-color:var(--app-dark-priority-normal-bg)}.m3-priority-chip.priority-low[_ngcontent-%COMP%]{background-color:var(--app-light-priority-low-bg);color:var(--app-light-priority-low-text);border-color:var(--app-light-priority-low-bg)}.dark-theme[_ngcontent-%COMP%]   .m3-priority-chip.priority-low[_ngcontent-%COMP%]{background-color:var(--app-dark-priority-low-bg);color:var(--app-dark-priority-low-text);border-color:var(--app-dark-priority-low-bg)}.m3-priority-chip[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:var(--app-spacing-internal-card-secondary)}.m3-priority-chip[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.m3-icon-tonal-button.m3-play-pause-button-item[_ngcontent-%COMP%]{background-color:var(--app-light-icon-button-bg);color:var(--app-light-icon-button-fg);border-radius:var(--app-border-radius-icon-button-circular);width:40px;height:40px;padding:0;border:none;display:flex;align-items:center;justify-content:center;box-shadow:none}.dark-theme[_ngcontent-%COMP%]   .m3-icon-tonal-button.m3-play-pause-button-item[_ngcontent-%COMP%]{background-color:var(--app-dark-icon-button-bg);color:var(--app-dark-icon-button-fg)}.m3-card-content-row[_ngcontent-%COMP%]{margin-bottom:var(--app-spacing-description-margin-bottom)}.m3-task-description-container[_ngcontent-%COMP%]{margin-left:calc(36px + var(--app-spacing-internal-card-secondary));flex-grow:1}.m3-task-description[_ngcontent-%COMP%]{font-size:var(--app-font-size-description);font-weight:var(--app-font-weight-description);color:var(--app-light-on-surface-variant);margin:0;line-height:1.5;padding-top:10px;padding-bottom:10px;white-space:pre-wrap;word-break:break-word;overflow-wrap:break-word;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;max-height:4.5em}.dark-theme[_ngcontent-%COMP%]   .m3-task-description[_ngcontent-%COMP%]{color:var(--app-dark-on-surface-variant)}.m3-task-description.expanded-description[_ngcontent-%COMP%]{display:block;-webkit-line-clamp:unset;-webkit-box-orient:unset;overflow:visible;text-overflow:clip;max-height:none}.m3-task-item-footer[_ngcontent-%COMP%]{padding:0;margin-top:var(--app-spacing-internal-card-large)}.m3-footer-divider[_ngcontent-%COMP%]{border-top:1px solid var(--app-light-outline);width:100%;margin:0}.dark-theme[_ngcontent-%COMP%]   .m3-footer-divider[_ngcontent-%COMP%]{border-top-color:var(--app-dark-outline)}.m3-button-expand[_ngcontent-%COMP%]{font-family:var(--app-font-family, "Roboto", sans-serif);font-size:var(--app-font-size-label-small, 11px);font-weight:500;letter-spacing:.5px;line-height:16px;color:var(--app-light-primary-action-text);background-color:transparent;border:none;padding:8px 16px;cursor:pointer;text-align:center;width:100%;box-sizing:border-box;border-radius:var(--app-border-radius-button-small, 4px);transition:background-color .2s ease}.m3-button-expand[_ngcontent-%COMP%]:hover{background-color:#0000000a}.dark-theme[_ngcontent-%COMP%]   .m3-button-expand[_ngcontent-%COMP%]{color:var(--app-dark-primary-action-text)}.dark-theme[_ngcontent-%COMP%]   .m3-button-expand[_ngcontent-%COMP%]:hover{background-color:#ffffff14}.m3-task-options-menu[_ngcontent-%COMP%]   .mat-mdc-menu-item[_ngcontent-%COMP%]{min-height:40px;font-size:14px}.m3-task-options-menu[_ngcontent-%COMP%]   .mat-mdc-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:12px;color:var(--app-light-on-surface-variant)}.dark-theme[_ngcontent-%COMP%]   .m3-task-options-menu[_ngcontent-%COMP%]   .mat-mdc-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--app-dark-on-surface-variant)}@media (max-width: 600px){.m3-card-header-row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:var(--app-spacing-internal-card-large)}.m3-task-meta-info[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.m3-task-description-container[_ngcontent-%COMP%]{margin-left:0}.m3-button-expand[_ngcontent-%COMP%]{text-align:center;font-size:calc(var(--app-font-size-label-small, 11px) * .95);padding:var(--app-spacing-internal-card-secondary) var(--app-spacing-card-padding-mobile, 16px)}.m3-priority-chip[_ngcontent-%COMP%]{padding:2px 10px;min-height:24px;height:24px;font-size:calc(var(--app-font-size-chip, 12px) * .9)}.m3-priority-chip[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}}']})}}return r})();var _o=["button"],bo=["*"];function vo(r,t){if(r&1&&(d(0,"div",2),V(1,"mat-pseudo-checkbox",6),u()),r&2){let e=A();b(),T("disabled",e.disabled)}}var na=new Yt("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:ko});function ko(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1,disabledInteractive:!1}}var ia=new Yt("MatButtonToggleGroup"),So={provide:Ai,useExisting:Kn(()=>Fn),multi:!0},Kt=class{source;value;constructor(t,e){this.source=t,this.value=e}},Fn=(()=>{class r{_changeDetector=U(Jt);_dir=U(fi,{optional:!0});_multiple=!1;_disabled=!1;_disabledInteractive=!1;_selectionModel;_rawValue;_controlValueAccessorChangeFn=()=>{};_onTouched=()=>{};_buttonToggles;appearance;get name(){return this._name}set name(e){this._name=e,this._markButtonsForCheck()}_name=U(en).getId("mat-button-toggle-group-");vertical;get value(){let e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e.map(n=>n.value):e[0]?e[0].value:void 0}set value(e){this._setSelectionByValue(e),this.valueChange.emit(this.value)}valueChange=new J;get selected(){let e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e:e[0]||null}get multiple(){return this._multiple}set multiple(e){this._multiple=e,this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._markButtonsForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e,this._markButtonsForCheck()}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}change=new J;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._markButtonsForCheck()}_hideSingleSelectionIndicator;get hideMultipleSelectionIndicator(){return this._hideMultipleSelectionIndicator}set hideMultipleSelectionIndicator(e){this._hideMultipleSelectionIndicator=e,this._markButtonsForCheck()}_hideMultipleSelectionIndicator;constructor(){let e=U(na,{optional:!0});this.appearance=e&&e.appearance?e.appearance:"standard",this.hideSingleSelectionIndicator=e?.hideSingleSelectionIndicator??!1,this.hideMultipleSelectionIndicator=e?.hideMultipleSelectionIndicator??!1}ngOnInit(){this._selectionModel=new Ki(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(e=>e.checked)),this.multiple||this._initializeTabIndex()}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_keydown(e){if(this.multiple||this.disabled)return;let i=e.target.id,a=this._buttonToggles.toArray().findIndex(s=>s.buttonId===i),o=null;switch(e.keyCode){case 32:case 13:o=this._buttonToggles.get(a)||null;break;case 38:o=this._getNextButton(a,-1);break;case 37:o=this._getNextButton(a,this.dir==="ltr"?-1:1);break;case 40:o=this._getNextButton(a,1);break;case 39:o=this._getNextButton(a,this.dir==="ltr"?1:-1);break;default:return}o&&(e.preventDefault(),o._onButtonClick(),o.focus())}_emitChangeEvent(e){let n=new Kt(e,this.value);this._rawValue=n.value,this._controlValueAccessorChangeFn(n.value),this.change.emit(n)}_syncButtonToggle(e,n,i=!1,a=!1){!this.multiple&&this.selected&&!e.checked&&(this.selected.checked=!1),this._selectionModel?n?this._selectionModel.select(e):this._selectionModel.deselect(e):a=!0,a?Promise.resolve().then(()=>this._updateModelValue(e,i)):this._updateModelValue(e,i)}_isSelected(e){return this._selectionModel&&this._selectionModel.isSelected(e)}_isPrechecked(e){return typeof this._rawValue>"u"?!1:this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(n=>e.value!=null&&n===e.value):e.value===this._rawValue}_initializeTabIndex(){if(this._buttonToggles.forEach(e=>{e.tabIndex=-1}),this.selected)this.selected.tabIndex=0;else for(let e=0;e<this._buttonToggles.length;e++){let n=this._buttonToggles.get(e);if(!n.disabled){n.tabIndex=0;break}}this._markButtonsForCheck()}_getNextButton(e,n){let i=this._buttonToggles;for(let a=1;a<=i.length;a++){let o=(e+n*a+i.length)%i.length,s=i.get(o);if(s&&!s.disabled)return s}return null}_setSelectionByValue(e){if(this._rawValue=e,!this._buttonToggles)return;let n=this._buttonToggles.toArray();if(this.multiple&&e?(Array.isArray(e),this._clearSelection(),e.forEach(i=>this._selectValue(i,n))):(this._clearSelection(),this._selectValue(e,n)),!this.multiple&&n.every(i=>i.tabIndex===-1)){for(let i of n)if(!i.disabled){i.tabIndex=0;break}}}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(e=>{e.checked=!1,this.multiple||(e.tabIndex=-1)})}_selectValue(e,n){for(let i of n)if(i.value===e){i.checked=!0,this._selectionModel.select(i),this.multiple||(i.tabIndex=0);break}}_updateModelValue(e,n){n&&this._emitChangeEvent(e),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(e=>e._markForCheck())}static \u0275fac=function(n){return new(n||r)};static \u0275dir=Hn({type:r,selectors:[["mat-button-toggle-group"]],contentQueries:function(n,i,a){if(n&1&&Zn(a,jt,5),n&2){let o;Qe(o=Ue())&&(i._buttonToggles=o)}},hostAttrs:[1,"mat-button-toggle-group"],hostVars:6,hostBindings:function(n,i){n&1&&C("keydown",function(o){return i._keydown(o)}),n&2&&(ot("role",i.multiple?"group":"radiogroup")("aria-disabled",i.disabled),ke("mat-button-toggle-vertical",i.vertical)("mat-button-toggle-group-appearance-standard",i.appearance==="standard"))},inputs:{appearance:"appearance",name:"name",vertical:[2,"vertical","vertical",ie],value:"value",multiple:[2,"multiple","multiple",ie],disabled:[2,"disabled","disabled",ie],disabledInteractive:[2,"disabledInteractive","disabledInteractive",ie],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",ie],hideMultipleSelectionIndicator:[2,"hideMultipleSelectionIndicator","hideMultipleSelectionIndicator",ie]},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[ii([So,{provide:ia,useExisting:r}])]})}return r})(),jt=(()=>{class r{_changeDetectorRef=U(Jt);_elementRef=U(Un);_focusMonitor=U(gi);_idGenerator=U(en);_animationMode=U(je,{optional:!0});_checked=!1;ariaLabel;ariaLabelledby=null;_buttonElement;buttonToggleGroup;get buttonId(){return`${this.id}-button`}id;name;value;get tabIndex(){return this._tabIndex}set tabIndex(e){e!==this._tabIndex&&(this._tabIndex=e,this._markForCheck())}_tabIndex;disableRipple;get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(e){this._appearance=e}_appearance;get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(e){e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(e){this._disabled=e}_disabled=!1;get disabledInteractive(){return this._disabledInteractive||this.buttonToggleGroup!==null&&this.buttonToggleGroup.disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e}_disabledInteractive;change=new J;constructor(){U(hi).load(_i);let e=U(ia,{optional:!0}),n=U(new jn("tabindex"),{optional:!0})||"",i=U(na,{optional:!0});this._tabIndex=parseInt(n)||0,this.buttonToggleGroup=e,this.appearance=i&&i.appearance?i.appearance:"standard",this.disabledInteractive=i?.disabledInteractive??!1}ngOnInit(){let e=this.buttonToggleGroup;this.id=this.id||this._idGenerator.getId("mat-button-toggle-"),e&&(e._isPrechecked(this)?this.checked=!0:e._isSelected(this)!==this._checked&&e._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._animationMode!=="NoopAnimations"&&this._elementRef.nativeElement.classList.add("mat-button-toggle-animations-enabled"),this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){let e=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),e&&e._isSelected(this)&&e._syncButtonToggle(this,!1,!1,!0)}focus(e){this._buttonElement.nativeElement.focus(e)}_onButtonClick(){if(this.disabled)return;let e=this.isSingleSelector()?!0:!this._checked;if(e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.isSingleSelector()){let n=this.buttonToggleGroup._buttonToggles.find(i=>i.tabIndex===0);n&&(n.tabIndex=-1),this.tabIndex=0}this.change.emit(new Kt(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this.isSingleSelector()?this.buttonToggleGroup.name:this.name||null}isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Z({type:r,selectors:[["mat-button-toggle"]],viewQuery:function(n,i){if(n&1&&st(_o,5),n&2){let a;Qe(a=Ue())&&(i._buttonElement=a.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:14,hostBindings:function(n,i){n&1&&C("focus",function(){return i.focus()}),n&2&&(ot("aria-label",null)("aria-labelledby",null)("id",i.id)("name",null),ke("mat-button-toggle-standalone",!i.buttonToggleGroup)("mat-button-toggle-checked",i.checked)("mat-button-toggle-disabled",i.disabled)("mat-button-toggle-disabled-interactive",i.disabledInteractive)("mat-button-toggle-appearance-standard",i.appearance==="standard"))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[2,"disableRipple","disableRipple",ie],appearance:"appearance",checked:[2,"checked","checked",ie],disabled:[2,"disabled","disabled",ie],disabledInteractive:[2,"disabledInteractive","disabledInteractive",ie]},outputs:{change:"change"},exportAs:["matButtonToggle"],ngContentSelectors:bo,decls:7,vars:13,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-checkbox-wrapper"],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"],["state","checked","aria-hidden","true","appearance","minimal",3,"disabled"]],template:function(n,i){if(n&1){let a=$();Xn(),d(0,"button",1,0),C("click",function(){return x(a),O(i._onButtonClick())}),L(2,vo,2,1,"div",2),d(3,"span",3),Jn(4),u()(),V(5,"span",4)(6,"span",5)}if(n&2){let a=$e(1);T("id",i.buttonId)("disabled",i.disabled&&!i.disabledInteractive||null),ot("role",i.isSingleSelector()?"radio":"button")("tabindex",i.disabled&&!i.disabledInteractive?-1:i.tabIndex)("aria-pressed",i.isSingleSelector()?null:i.checked)("aria-checked",i.isSingleSelector()?i.checked:null)("name",i._getButtonName())("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-disabled",i.disabled&&i.disabledInteractive?"true":null),b(2),Yn(i.buttonToggleGroup&&(!i.buttonToggleGroup.multiple&&!i.buttonToggleGroup.hideSingleSelectionIndicator||i.buttonToggleGroup.multiple&&!i.buttonToggleGroup.hideMultipleSelectionIndicator)?2:-1),b(4),T("matRippleTrigger",a)("matRippleDisabled",i.disableRipple||i.disabled)}},dependencies:[yi,Gi],styles:[`.mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}@media(forced-colors: active){.mat-button-toggle-standalone,.mat-button-toggle-group{outline:solid 1px}}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large));border:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-sys-outline))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-sys-on-secondary-container))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}@media(forced-colors: active){.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{outline:0}}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-label-text-font);font-size:var(--mat-legacy-button-toggle-label-text-size);line-height:var(--mat-legacy-button-toggle-label-text-line-height);font-weight:var(--mat-legacy-button-toggle-label-text-weight);letter-spacing:var(--mat-legacy-button-toggle-label-text-tracking);--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-legacy-button-toggle-selected-state-text-color)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle-checkbox-wrapper{display:inline-block;justify-content:flex-start;align-items:center;width:0;height:18px;line-height:18px;overflow:hidden;box-sizing:border-box;position:absolute;top:50%;left:16px;transform:translate3d(0, -50%, 0)}[dir=rtl] .mat-button-toggle-checkbox-wrapper{left:auto;right:16px}.mat-button-toggle-appearance-standard .mat-button-toggle-checkbox-wrapper{left:12px}[dir=rtl] .mat-button-toggle-appearance-standard .mat-button-toggle-checkbox-wrapper{left:auto;right:12px}.mat-button-toggle-checked .mat-button-toggle-checkbox-wrapper{width:18px}.mat-button-toggle-animations-enabled .mat-button-toggle-checkbox-wrapper{transition:width 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-button-toggle-vertical .mat-button-toggle-checkbox-wrapper{transition:none}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{pointer-events:none;color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color);--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-legacy-button-toggle-disabled-state-text-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-disabled-interactive{pointer-events:auto}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color, var(--mat-sys-on-surface));background-color:var(--mat-standard-button-toggle-background-color, transparent);font-family:var(--mat-standard-button-toggle-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-standard-button-toggle-label-text-size, var(--mat-sys-label-large-size));line-height:var(--mat-standard-button-toggle-label-text-line-height, var(--mat-sys-label-large-line-height));font-weight:var(--mat-standard-button-toggle-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mat-standard-button-toggle-label-text-tracking, var(--mat-sys-label-large-tracking))}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-sys-outline))}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-sys-outline))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-sys-outline))}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-standard-button-toggle-selected-state-background-color, var(--mat-sys-secondary-container))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-standard-button-toggle-disabled-state-background-color, transparent)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-standard-button-toggle-disabled-selected-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color, var(--mat-sys-on-surface))}.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-button-toggle-appearance-standard.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}@media(hover: none){.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height, 40px)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}@media(forced-colors: active){.mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-animations-enabled .mat-button-toggle-button{transition:padding 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-button-toggle-vertical .mat-button-toggle-button{transition:none}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-checked .mat-button-toggle-button:has(.mat-button-toggle-checkbox-wrapper){padding-left:30px}[dir=rtl] .mat-button-toggle-checked .mat-button-toggle-button:has(.mat-button-toggle-checkbox-wrapper){padding-left:0;padding-right:30px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large))}.mat-button-toggle-group-appearance-standard:not(.mat-button-toggle-vertical) .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large));border-bottom-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large))}.mat-button-toggle-group-appearance-standard:not(.mat-button-toggle-vertical) .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large));border-bottom-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-bottom-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large));border-bottom-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large));border-top-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large))}
`],encapsulation:2,changeDetection:0})}return r})(),ra=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Xt({type:r});static \u0275inj=Ht({imports:[tn,ft,jt,tn]})}return r})();function Eo(r,t){if(r&1){let e=$();d(0,"div",7)(1,"mat-button-toggle-group",8,0),ni("valueChange",function(i){x(e);let a=A();return ti(a.currentSort,i)||(a.currentSort=i),O(i)}),C("change",function(i){x(e);let a=A();return O(a.onSortChange(i))}),d(3,"mat-button-toggle",9)(4,"span"),y(5,"Prioridad"),u()(),d(6,"mat-button-toggle",10)(7,"span"),y(8,"Creaci\xF3n"),u()(),d(9,"mat-button-toggle",11)(10,"span"),y(11,"Actividad"),u()()()()}if(r&2){let e=A();b(),ei("value",e.currentSort)}}function Mo(r,t){if(r&1){let e=$();d(0,"div",12)(1,"div",13)(2,"p",14),y(3,"No hay tareas pendientes"),u(),d(4,"button",15),C("click",function(){x(e);let i=A();return O(i.openCreateTaskDialog())}),d(5,"mat-icon"),y(6,"add"),u(),d(7,"span"),y(8,"Crear tarea"),u()()()()}}function wo(r,t){r&1&&(d(0,"div",16),V(1,"mat-progress-spinner",17),d(2,"p",18),y(3,"Cargando tareas..."),u()())}function Co(r,t){if(r&1){let e=$();d(0,"app-task-item",21),C("edit",function(i){x(e);let a=A(2);return O(a.editTask(i))}),u()}if(r&2){let e=t.$implicit;T("task",e)}}function Po(r,t){if(r&1&&(d(0,"div",19),L(1,Co,1,1,"app-task-item",20),u()),r&2){let e=A();b(),T("ngForOf",e.tasksToDisplay)("ngForTrackBy",e.trackById)}}var aa=(()=>{class r{constructor(e){this.taskService=e,this.tasksToDisplay=[],this.isLoading=!0,this.currentSort="priority",this.requestOpenAddTaskDialog=new J,this.requestOpenEditTaskSidenav=new J,this.combinedSubscription=qn([this.taskService.tasks$.pipe(Wt([])),this.taskService.activeTask$.pipe(Wt(null))]).pipe(Gn(([n,i])=>{let a;i?a=n.filter(s=>s.id!==i.id):a=[...n];let o=null;if(a&&a.length>0){let s=a.filter(l=>l.wasPreviouslyActive&&l.lastDeactivatedAt);s.length>0&&(o=s.reduce((l,c)=>l.lastDeactivatedAt>c.lastDeactivatedAt?l:c))}return a.map(s=>it(pe({},s),{isActive:!1,isMostRecentPreviouslyActive:o!==null&&s.id===o.id}))})).subscribe(n=>{this.tasksToDisplay=this.sortTasksArray(n,this.currentSort),this.isLoading=!1})}ngOnInit(){}ngOnDestroy(){this.combinedSubscription&&this.combinedSubscription.unsubscribe()}onSortChange(e){this.currentSort=e.value,this.currentSort===void 0&&(this.currentSort="priority"),this.tasksToDisplay=this.sortTasksArray(this.tasksToDisplay,this.currentSort)}sortTasksArray(e,n){return n?[...e].sort((a,o)=>{switch(n){case"priority":let s={[P.URGENT]:1,[P.HIGH]:2,[P.NORMAL]:3,[P.LOW]:4};return(s[a.priority]||5)-(s[o.priority]||5);case"creationDate":return(o.createdAt||0)-(a.createdAt||0);case"name":return(a.title||"").localeCompare(o.title||"");case"activity":let l=a.lastActivatedAt||a.lastDeactivatedAt||0,c=o.lastActivatedAt||o.lastDeactivatedAt||0;return c===0&&l===0?(o.createdAt||0)-(a.createdAt||0):c===0?-1:l===0?1:c-l;default:return 0}}):[...e]}editTask(e){this.requestOpenEditTaskSidenav.emit(e)}openCreateTaskDialog(){this.requestOpenAddTaskDialog.emit()}deleteTask(e){this.taskService.deleteTask(e)}activateTask(e){this.taskService.setActiveTask(e)}trackById(e,n){return n.id}static{this.\u0275fac=function(n){return new(n||r)(j(Be))}}static{this.\u0275cmp=Z({type:r,selectors:[["app-task-list"]],outputs:{requestOpenAddTaskDialog:"requestOpenAddTaskDialog",requestOpenEditTaskSidenav:"requestOpenEditTaskSidenav"},decls:7,vars:4,consts:[["sortGroup","matButtonToggleGroup"],[1,"m3-task-list-container"],[1,"m3-section-title"],["class","m3-list-controls",4,"ngIf"],["class","m3-empty-state-card m3-pending-tasks-empty-state",4,"ngIf"],["class","m3-loading-state",4,"ngIf"],["class","m3-tasks-scroll-container",4,"ngIf"],[1,"m3-list-controls"],["aria-label","Ordenar por",1,"m3-filter-segmented-button-group",3,"valueChange","change","value"],["value","priority",1,"m3-filter-segmented-button"],["value","creationDate",1,"m3-filter-segmented-button"],["value","activity",1,"m3-filter-segmented-button"],[1,"m3-empty-state-card","m3-pending-tasks-empty-state"],[1,"m3-empty-state-content"],[1,"m3-empty-state-text-primary"],["mat-flat-button","",1,"m3-button-add-task-empty-state",3,"click"],[1,"m3-loading-state"],["mode","indeterminate","diameter","40"],[1,"m3-loading-text"],[1,"m3-tasks-scroll-container"],[3,"task","edit",4,"ngFor","ngForOf","ngForTrackBy"],[3,"edit","task"]],template:function(n,i){n&1&&(d(0,"div",1)(1,"h3",2),y(2,"Tareas pendientes"),u(),L(3,Eo,12,1,"div",3)(4,Mo,9,0,"div",4)(5,wo,4,0,"div",5)(6,Po,2,2,"div",6),u()),n&2&&(b(3),T("ngIf",i.tasksToDisplay.length>0||i.isLoading),b(),T("ngIf",i.tasksToDisplay.length===0&&!i.isLoading),b(),T("ngIf",i.isLoading),b(),T("ngIf",!i.isLoading&&i.tasksToDisplay.length>0))},dependencies:[te,Ae,ge,Ne,Fe,ce,fe,er,Zi,ta,ra,Fn,jt],styles:[".m3-list-controls[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin-bottom:var(--app-spacing-card-padding)}.m3-filter-segmented-button-group.mat-mdc-button-toggle-group[_ngcontent-%COMP%]{border:1px solid #CFCCC3;border-radius:var(--app-border-radius-chip);overflow:hidden;display:flex;background-color:#f7f4e6}.m3-filter-segmented-button.mat-mdc-button-toggle[_ngcontent-%COMP%]{background-color:transparent;color:var(--app-light-on-surface-variant);font-size:var(--app-font-size-chip-filter-button);font-weight:var(--app-font-weight-chip-filter-button);padding:var(--app-spacing-chip-padding-y) var(--app-spacing-chip-padding-x);border-radius:0;border:none;border-right:1px solid #CFCCC3;line-height:normal;height:auto;flex-grow:1;justify-content:center}[_nghost-%COMP%]     .m3-filter-segmented-button.mat-mdc-button-toggle .mat-pseudo-checkbox{display:none!important}.m3-filter-segmented-button.mat-mdc-button-toggle[_ngcontent-%COMP%]:last-child{border-right:none}.m3-filter-segmented-button.mat-mdc-button-toggle.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:var(--app-light-primary-container, #EADDFF);color:var(--app-light-on-primary-container, #21005D);box-shadow:var(--app-elevation-1)}.dark-theme[_ngcontent-%COMP%]   .m3-filter-segmented-button.mat-mdc-button-toggle.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:var(--app-dark-primary-container, #633B48);color:var(--app-dark-on-primary-container, #FFD8E4);box-shadow:var(--app-elevation-dark-1)}.m3-filter-segmented-button.mat-mdc-button-toggle[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:var(--app-spacing-internal-card-secondary);font-size:18px;vertical-align:middle}.m3-filter-segmented-button.mat-mdc-button-toggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{vertical-align:middle}.m3-pending-tasks-empty-state.m3-empty-state-card[_ngcontent-%COMP%]{background-color:#fbf9ef;border-radius:var(--app-border-radius-card);border:1px solid transparent;margin-top:var(--app-spacing-card-padding);display:flex;flex-direction:column;justify-content:center;align-items:center;min-height:250px}.m3-pending-tasks-empty-state[_ngcontent-%COMP%]   .m3-empty-state-content[_ngcontent-%COMP%]{text-align:center}.m3-pending-tasks-empty-state[_ngcontent-%COMP%]   .m3-empty-state-text-primary[_ngcontent-%COMP%]{color:var(--app-light-on-surface)}[_nghost-%COMP%]     .m3-pending-tasks-empty-state .m3-button-add-task-empty-state.mat-mdc-flat-button{background-color:#a0d9d3!important;color:#fff!important;border-radius:var(--app-border-radius-button-pill)!important;padding:var(--app-spacing-add-button-padding-y) var(--app-spacing-add-button-padding-x)!important}[_nghost-%COMP%]     .m3-pending-tasks-empty-state .m3-button-add-task-empty-state.mat-mdc-flat-button .mdc-button__label, [_nghost-%COMP%]     .m3-pending-tasks-empty-state .m3-button-add-task-empty-state.mat-mdc-flat-button mat-icon{color:#fff!important}.m3-loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px var(--app-spacing-card-padding);color:var(--app-light-on-surface-variant)}.dark-theme[_ngcontent-%COMP%]   .m3-loading-state[_ngcontent-%COMP%]{color:var(--app-dark-on-surface-variant)}.m3-loading-text[_ngcontent-%COMP%]{margin-top:var(--app-spacing-internal-card-primary);font-size:var(--app-font-size-description)}.m3-section-title[_ngcontent-%COMP%]{margin-top:0}"]})}}return r})();function Oo(r,t){r&1&&(d(0,"mat-error"),y(1,"El t\xEDtulo es obligatorio"),u())}function Ao(r,t){if(r&1&&(d(0,"mat-option",18)(1,"mat-icon",19),y(2),u(),y(3),u()),r&2){let e=t.$implicit,n=A();T("value",e.value),b(),T("ngClass",n.getPriorityClass(e.value)),b(),ee(n.getPriorityIcon(e.value)),b(),Se(" ",e.viewValue," ")}}function Io(r,t){r&1&&(d(0,"mat-error"),y(1,"La prioridad es obligatoria"),u())}function Do(r,t){r&1&&(d(0,"div",20)(1,"mat-form-field",7)(2,"mat-label"),y(3,"Descripci\xF3n (opcional)"),u(),V(4,"textarea",21),u()())}var oa=(()=>{class r{constructor(e){this.fb=e,this.taskToEdit=null,this.formSubmit=new J,this.closeSidenav=new J,this.showAdvancedOptions=!1,this.priorities=[{value:P.URGENT,viewValue:"Urgente"},{value:P.HIGH,viewValue:"Alta"},{value:P.NORMAL,viewValue:"Normal"},{value:P.LOW,viewValue:"Baja"}],this.taskForm=this.fb.group({title:["",nn.required],priority:[P.NORMAL,nn.required],description:[""]})}ngOnInit(){this.taskToEdit?(this.taskForm.patchValue({title:this.taskToEdit.title,priority:this.taskToEdit.priority,description:this.taskToEdit.description}),this.taskToEdit.description&&(this.showAdvancedOptions=!0)):(this.taskForm.reset({title:"",priority:P.NORMAL,description:""}),this.showAdvancedOptions=!1)}toggleAdvancedOptions(){this.showAdvancedOptions=!this.showAdvancedOptions}onSubmit(){if(this.taskForm.valid){let e=this.taskForm.value,n={title:e.title,priority:e.priority,description:e.description};this.taskToEdit&&this.taskToEdit.id&&(n.id=this.taskToEdit.id),this.formSubmit.emit(n)}}onCancel(){this.closeSidenav.emit()}getPriorityClass(e){return`priority-icon-${e.toString().toLowerCase()}`}getPriorityIcon(e){switch(e){case P.URGENT:return"error_outline";case P.HIGH:return"warning_amber";case P.NORMAL:return"info_outline";case P.LOW:return"low_priority";default:return"label_important_outline"}}get formTitle(){return this.taskToEdit?"Editar Tarea":"Nueva Tarea"}static{this.\u0275fac=function(n){return new(n||r)(j(zi))}}static{this.\u0275cmp=Z({type:r,selectors:[["app-task-form"]],inputs:{taskToEdit:"taskToEdit"},outputs:{formSubmit:"formSubmit",closeSidenav:"closeSidenav"},decls:34,vars:11,consts:[[1,"task-form-sidenav-container"],["color","primary",1,"task-form-sidenav-header"],[1,"toolbar-title"],[1,"toolbar-spacer"],["mat-icon-button","","aria-label","Cerrar formulario de tarea",3,"click"],[1,"task-form-sidenav-content"],[3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","title","placeholder","Ej: Preparar facturas","required",""],[4,"ngIf"],["formControlName","priority","required",""],[3,"value",4,"ngFor","ngForOf"],[1,"advanced-options"],["type","button","mat-button","",1,"advanced-toggle-button",3,"click"],["class","advanced-content",4,"ngIf"],[1,"task-form-sidenav-actions"],["mat-stroked-button","",3,"click"],["mat-flat-button","","color","primary","type","submit",3,"disabled"],[3,"value"],[3,"ngClass"],[1,"advanced-content"],["matInput","","formControlName","description","rows","3"]],template:function(n,i){if(n&1&&(d(0,"div",0)(1,"mat-toolbar",1)(2,"span",2),y(3),u(),V(4,"span",3),d(5,"button",4),C("click",function(){return i.onCancel()}),d(6,"mat-icon"),y(7,"close"),u()()(),d(8,"div",5)(9,"form",6),C("ngSubmit",function(){return i.onSubmit()}),d(10,"mat-form-field",7)(11,"mat-label"),y(12,"T\xEDtulo de la tarea"),u(),V(13,"input",8),L(14,Oo,2,0,"mat-error",9),u(),d(15,"mat-form-field",7)(16,"mat-label"),y(17,"Prioridad"),u(),d(18,"mat-select",10),L(19,Ao,4,4,"mat-option",11),u(),L(20,Io,2,0,"mat-error",9),u(),d(21,"div",12)(22,"button",13),C("click",function(){return i.toggleAdvancedOptions()}),y(23),d(24,"mat-icon"),y(25),u()(),L(26,Do,5,0,"div",14),u(),d(27,"div",15)(28,"button",16),C("click",function(){return i.onCancel()}),y(29,"Cancelar"),u(),d(30,"button",17)(31,"mat-icon"),y(32),u(),y(33),u()()()()()),n&2){let a,o;b(3),ee(i.formTitle),b(6),T("formGroup",i.taskForm),b(5),T("ngIf",(a=i.taskForm.get("title"))==null?null:a.hasError("required")),b(5),T("ngForOf",i.priorities),b(),T("ngIf",(o=i.taskForm.get("priority"))==null?null:o.hasError("required")),b(3),Se(" ",i.showAdvancedOptions?"Ocultar opciones avanzadas":"Mostrar opciones avanzadas"," "),b(2),ee(i.showAdvancedOptions?"expand_less":"expand_more"),b(),T("ngIf",i.showAdvancedOptions),b(4),T("disabled",!i.taskForm.valid),b(2),ee(i.taskToEdit?"save_outlined":"add_circle_outline"),b(),Se(" ",i.taskToEdit?"Guardar Cambios":"Crear Tarea"," ")}},dependencies:[te,dt,Ae,ge,vt,Fi,Ii,Di,Ni,Bi,Ri,Li,Ne,Oi,Pi,xi,kt,Vi,Fe,ji,qi,he,De,Ie,ce,fe,Re,St],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.advanced-options[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:8px}.advanced-toggle-button[_ngcontent-%COMP%]{text-transform:none;font-weight:400;color:var(--app-primary-color, #A5D6A7);padding-left:0}.dark-theme[_ngcontent-%COMP%]   .advanced-toggle-button[_ngcontent-%COMP%]{color:var(--app-dark-primary-color, #A5D6A7)}.advanced-toggle-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:4px}.advanced-content[_ngcontent-%COMP%]{padding-top:8px}.priority-icon-urgente[_ngcontent-%COMP%]{color:#d32f2f}.priority-icon-alta[_ngcontent-%COMP%]{color:#ffa000}.priority-icon-media[_ngcontent-%COMP%]{color:#388e3c}.priority-icon-baja[_ngcontent-%COMP%]{color:#616161}.dark-theme[_ngcontent-%COMP%]   .priority-icon-urgente[_ngcontent-%COMP%]{color:#e57373}.dark-theme[_ngcontent-%COMP%]   .priority-icon-alta[_ngcontent-%COMP%]{color:#ffb74d}.dark-theme[_ngcontent-%COMP%]   .priority-icon-media[_ngcontent-%COMP%]{color:#81c784}.dark-theme[_ngcontent-%COMP%]   .priority-icon-baja[_ngcontent-%COMP%]{color:#90a4ae}.mat-dialog-actions[_ngcontent-%COMP%]{padding-top:16px!important}.mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:4px}.task-form-sidenav-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%}.toolbar-spacer[_ngcontent-%COMP%]{flex-grow:1}"]})}}return r})();var Lo=["taskFormSidenav"];function Bo(r,t){if(r&1){let e=$();d(0,"app-task-form",16),C("formSubmit",function(i){x(e);let a=A();return O(a.handleTaskFormSubmit(i))})("closeSidenav",function(){x(e);let i=A();return O(i.closeTaskFormSidenav())}),u()}if(r&2){let e=A();T("taskToEdit",e.currentTaskForForm)}}function zo(r,t){r&1&&V(0,"router-outlet")}function Vo(r,t){if(r&1){let e=$();d(0,"div")(1,"div",17)(2,"div",18)(3,"div",19)(4,"h2",20),y(5,"Tarea activa"),u(),d(6,"app-active-task-display",21),C("requestOpenAddTaskDialog",function(){x(e);let i=A();return O(i.openTaskFormSidenav())})("requestOpenEditTaskDialog",function(i){x(e);let a=A();return O(a.openTaskFormSidenav(i))}),u()()()(),d(7,"div",22)(8,"div",23)(9,"app-task-list",24),C("requestOpenAddTaskDialog",function(){x(e);let i=A();return O(i.openTaskFormSidenav())})("requestOpenEditTaskSidenav",function(i){x(e);let a=A();return O(a.openTaskFormSidenav(i))}),u()(),d(10,"div",25)(11,"h2",20),y(12,"Progreso"),u(),d(13,"p",26),y(14,"\xBFCu\xE1ntas plantitas ser\xE1s capaz de hacer crecer? Sigue completando tareas"),u(),d(15,"div",27),V(16,"img",28),u(),d(17,"button",29),C("click",function(){x(e);let i=A();return O(i.endWorkday())}),d(18,"mat-icon"),y(19,"beach_access"),u(),y(20," Terminar jornada laboral "),u()()()()}}var sa=(()=>{class r{constructor(e,n,i,a){this.dialog=e,this.router=n,this.taskService=i,this.phaseService=a,this.isDarkMode=!1,this.currentTaskForForm=null,this.isSidenavOpen=!1,this.activeSection="tasks",this.navigationRailExpanded=!1,console.log("[MainLayoutComponent] Constructor - Subscribing to taskService observables."),this.tasks$=this.taskService.tasks$,this.activeTask$=this.taskService.activeTask$}ngOnInit(){console.log("[MainLayoutComponent] ngOnInit - Initializing component.");let e=localStorage.getItem("darkMode");e&&(this.isDarkMode=JSON.parse(e)),this.applyTheme(),console.log("[MainLayoutComponent] ngOnInit - Task loading is handled by TaskService constructor.")}toggleDarkMode(){this.isDarkMode=!this.isDarkMode,this.applyTheme(),localStorage.setItem("darkMode",JSON.stringify(this.isDarkMode))}applyTheme(){this.isDarkMode?(document.body.classList.add("dark-theme"),document.body.classList.remove("light-theme")):(document.body.classList.add("light-theme"),document.body.classList.remove("dark-theme"))}navigateToHistory(){this.router.navigate(["/history"]),this.activeSection="history"}openTaskFormSidenav(e=null){console.log("[MainLayoutComponent] openTaskFormSidenav called. Task:",e),this.currentTaskForForm=e,this.isSidenavOpen=!0,this.taskFormSidenav.open()}closeTaskFormSidenav(){this.isSidenavOpen=!1,this.taskFormSidenav.close(),this.currentTaskForForm=null}handleTaskFormSubmit(e){if(console.log("[MainLayoutComponent] handleTaskFormSubmit. Data:",e),e.id)this.taskService.updateTask(e);else{let n=this.taskService.addTask({title:e.title,priority:e.priority,description:e.description});this.showConfirmationToActivate(n)}this.closeTaskFormSidenav()}showConfirmationToActivate(e){let n={message:`\xBFQuieres empezar a trabajar en "${e.title}" ahora?`,confirmButtonText:"S\xED, empezar ahora",cancelButtonText:"No, a\xF1adir a pendientes",showCancelButton:!0};this.dialog.open(ze,{width:"90%",maxWidth:"400px",data:n}).afterClosed().subscribe(a=>{a?(console.log(`[MainLayoutComponent] ConfirmationDialog: User chose to activate task ${e.id}`),this.taskService.setActiveTask(e.id)):console.log(`[MainLayoutComponent] ConfirmationDialog: User chose NOT to activate task ${e.id}`)})}endWorkday(){return $t(this,null,function*(){let e={message:"\xBFQuieres terminar tu jornada laboral y pasar a tu isla?",confirmButtonText:"S\xED, ir a mi isla",cancelButtonText:"No, seguir trabajando",showCancelButton:!0};this.dialog.open(ze,{width:"90%",maxWidth:"400px",data:e}).afterClosed().subscribe(i=>$t(this,null,function*(){i?(console.log("[MainLayoutComponent] User confirmed to end workday and go to recreation phase"),this.phaseService.hasAccessedRecreationToday()?(console.log("[MainLayoutComponent] User already accessed recreation phase today"),this.showRecreationAccessDeniedDialog()):(this.phaseService.transitionToRecreationPhase(),console.log("[MainLayoutComponent] Successfully transitioned to recreation phase"))):console.log("[MainLayoutComponent] User cancelled transition to recreation phase")}))})}showRecreationAccessDeniedDialog(){let e={message:"Ya has entrado en tu isla hoy. Podr\xE1s volver a visitarla ma\xF1ana, tras completar una nueva jornada.",confirmButtonText:"Entendido",cancelButtonText:"",showCancelButton:!1};this.dialog.open(ze,{width:"90%",maxWidth:"400px",data:e})}onSectionChange(e){switch(this.activeSection=e,e){case"tasks":this.router.navigate(["/"]);break;case"habits":this.router.navigate(["/habits"]);break;case"history":this.router.navigate(["/history"]);break;case"island":this.router.navigate(["/mi-isla"]);break;default:this.router.navigate(["/"])}}onNavigationRailExpandedChange(e){this.navigationRailExpanded=e}static{this.\u0275fac=function(n){return new(n||r)(j(gt),j(mt),j(Be),j(Le))}}static{this.\u0275cmp=Z({type:r,selectors:[["app-main-layout"]],viewQuery:function(n,i){if(n&1&&st(Lo,5),n&2){let a;Qe(a=Ue())&&(i.taskFormSidenav=a.first)}},decls:25,vars:10,consts:[["taskFormSidenav",""],[1,"main-sidenav-container"],["mode","over","position","end",1,"task-form-sidenav",3,"closedStart","opened"],[3,"taskToEdit","formSubmit","closeSidenav",4,"ngIf"],[1,"main-container"],[3,"sectionChange","expandedChange","activeSection"],["color","background",1,"app-toolbar"],[1,"toolbar-content-wrapper"],["src","assets/images/logo_nuevo.png","alt","Qu\xE9 Co\xF1o Estaba Haciendo Logo",1,"app-logo"],[1,"toolbar-spacer"],["mat-icon-button","","aria-label","Toggle dark mode",3,"click"],["mat-icon-button","","aria-label","View history",3,"click"],[1,"content-area"],[4,"ngIf"],["mat-extended-fab","","aria-label","Crear nueva tarea",1,"add-task-fab",3,"click"],[1,"fab-text"],[3,"formSubmit","closeSidenav","taskToEdit"],[1,"row-active-task"],[1,"column","active-task-column"],[1,"active-task-section-container"],[1,"m3-section-title"],[1,"active-task-section",3,"requestOpenAddTaskDialog","requestOpenEditTaskDialog"],[1,"row-pending-progress"],[1,"column","pending-tasks-column"],[1,"task-list-section",3,"requestOpenAddTaskDialog","requestOpenEditTaskSidenav"],[1,"column","progress-column"],[1,"progress-text"],[1,"progress-image-container"],["src","assets/images/plantita.jpg","alt","Progreso Plantita",1,"progress-image-full"],["mat-raised-button","","color","accent",1,"end-workday-button",3,"click"]],template:function(n,i){if(n&1){let a=$();d(0,"mat-sidenav-container",1)(1,"mat-sidenav",2,0),C("closedStart",function(){return x(a),O(i.isSidenavOpen=!1)}),L(3,Bo,1,1,"app-task-form",3),u(),d(4,"mat-sidenav-content")(5,"div",4)(6,"app-navigation-rail",5),C("sectionChange",function(s){return x(a),O(i.onSectionChange(s))})("expandedChange",function(s){return x(a),O(i.onNavigationRailExpandedChange(s))}),u(),d(7,"mat-toolbar",6)(8,"div",7),V(9,"img",8)(10,"span",9),d(11,"button",10),C("click",function(){return x(a),O(i.toggleDarkMode())}),d(12,"mat-icon"),y(13),u()(),d(14,"button",11),C("click",function(){return x(a),O(i.navigateToHistory())}),d(15,"mat-icon"),y(16,"history_outlined"),u()()()(),d(17,"div",12),L(18,zo,1,0,"router-outlet",13)(19,Vo,21,0,"div",13),u(),d(20,"button",14),C("click",function(){return x(a),O(i.openTaskFormSidenav())}),d(21,"mat-icon"),y(22,"add"),u(),d(23,"span",15),y(24,"A\xF1adir tarea"),u()()()()()}n&2&&(b(),T("opened",i.isSidenavOpen),b(2),T("ngIf",i.isSidenavOpen),b(2),ke("main-content-with-rail",!0)("expanded",i.navigationRailExpanded),b(),T("activeSection",i.activeSection),b(7),ee(i.isDarkMode?"light_mode_outlined":"dark_mode_outlined"),b(5),T("ngIf",i.activeSection==="habits"||i.activeSection==="history"||i.activeSection==="island"),b(),T("ngIf",i.activeSection==="tasks"))},dependencies:[te,ge,mi,ut,Re,St,ce,fe,he,De,Ie,ht,_t,Ei,Mi,Ti,Ji,aa,oa,tr],styles:['.add-task-fab[_ngcontent-%COMP%]{position:fixed;bottom:24px;right:24px;height:56px;padding:0 20px;border-radius:16px;background-color:var(--app-light-chip-priority-bg);color:var(--app-light-chip-priority-text);display:flex;align-items:center;justify-content:center;gap:8px;font-family:var(--app-font-family, "Roboto", sans-serif);font-size:.875rem;font-weight:500;letter-spacing:.1px;text-transform:none;box-shadow:var(--md-sys-elevation-level3, 0px 4px 8px 3px rgba(0, 0, 0, .15), 0px 1px 3px rgba(0, 0, 0, .3));border:none;cursor:pointer;transition:background-color .3s ease,box-shadow .3s ease}@media (max-width: 600px){.add-task-fab[_ngcontent-%COMP%]{bottom:16px;right:16px;height:48px;padding:0 16px;border-radius:12px}}.main-sidenav-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh}.main-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;transition:padding-left .3s ease;background-color:#fff}.main-content-with-rail[_ngcontent-%COMP%]{padding-left:72px}.main-content-with-rail.expanded[_ngcontent-%COMP%]{padding-left:200px}@media (max-width: 767px){.main-content-with-rail[_ngcontent-%COMP%]{padding-left:0}}.app-toolbar[_ngcontent-%COMP%]{background-color:var(--app-light-surface, #FFFFFF);color:var(--app-light-on-surface, #1C1B1F);box-shadow:0 2px 4px #0000001a;z-index:2}.dark-theme[_ngcontent-%COMP%]   .app-toolbar[_ngcontent-%COMP%]{background-color:var(--app-dark-surface, #1C1B1F);color:var(--app-dark-on-surface, #E6E1E5)}.toolbar-content-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;max-width:1200px;margin:0 auto;padding:0 16px}.app-logo[_ngcontent-%COMP%]{height:40px;margin-right:16px}.toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.content-area[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:16px;display:flex;flex-direction:column;gap:16px;max-width:1200px;margin:0 auto;width:100%;box-sizing:border-box}.row-active-task[_ngcontent-%COMP%], .row-pending-progress[_ngcontent-%COMP%]{display:flex;gap:16px;width:100%}.column[_ngcontent-%COMP%]{display:flex;flex-direction:column}.active-task-column[_ngcontent-%COMP%]{flex:1}.active-task-section-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.pending-tasks-column[_ngcontent-%COMP%]{flex:2}.progress-column[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:16px}.progress-image-container[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center;overflow:hidden;border-radius:16px}.progress-image-full[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover}.progress-text[_ngcontent-%COMP%]{margin:0;color:var(--app-light-on-surface-variant, #49454F)}.dark-theme[_ngcontent-%COMP%]   .progress-text[_ngcontent-%COMP%]{color:var(--app-dark-on-surface-variant, #CAC4D0)}.m3-section-title[_ngcontent-%COMP%]{font-size:var(--app-font-size-title-medium, 16px);font-weight:500;margin:0;color:var(--app-light-on-surface, #1C1B1F)}.dark-theme[_ngcontent-%COMP%]   .m3-section-title[_ngcontent-%COMP%]{color:var(--app-dark-on-surface, #E6E1E5)}.dark-theme[_ngcontent-%COMP%]   .add-task-fab[_ngcontent-%COMP%]{background-color:#69f0ae!important;color:#000!important}.fab-text[_ngcontent-%COMP%]{margin-left:8px}.task-form-sidenav[_ngcontent-%COMP%]{width:100%;max-width:500px}.end-workday-button[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:16px}@media (max-width: 768px){.row-pending-progress[_ngcontent-%COMP%]{flex-direction:column}.content-area[_ngcontent-%COMP%]{padding:8px}}.dark-theme[_nghost-%COMP%]   .app-toolbar[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .app-toolbar[_ngcontent-%COMP%]{background-color:var(--app-dark-surface, #1C1B1F);color:var(--app-dark-on-surface, #E6E1E5)}.dark-theme[_nghost-%COMP%]   .progress-text[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .progress-text[_ngcontent-%COMP%]{color:var(--app-dark-on-surface-variant, #CAC4D0)}.dark-theme[_nghost-%COMP%]   .m3-section-title[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .m3-section-title[_ngcontent-%COMP%]{color:var(--app-dark-on-surface, #E6E1E5)}.dark-theme[_nghost-%COMP%]   .add-task-fab[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .add-task-fab[_ngcontent-%COMP%]{background-color:#69f0ae!important;color:#000!important}']})}}return r})();var la=[{path:"",component:sa},{path:"history",loadComponent:()=>import("./chunk-NY45GFH3.js").then(r=>r.HistoryViewComponent)},{path:"mi-isla",loadComponent:()=>import("./chunk-KHIFAYTW.js").then(r=>r.MyIslandComponent)},{path:"habits",loadComponent:()=>import("./chunk-RX3HLABU.js").then(r=>r.HabitsPanelComponent)},{path:"**",redirectTo:""}];var ca={providers:[di(la,ui()),Jr(),li(ci()),z(te),z(vt),z(ht),z(bi),z(yt),z(ce),z(he),z(_t),z(bt),z(Ci),z(Ne),z(kt),z(Fe),z(Re),z(Qi),z(ft),Ui,$i,Le,Hi]};var da=(()=>{class r{constructor(e,n,i){this.phaseService=e,this.router=n,this.dialog=i,this.title="queconoestabahaciendo"}ngOnInit(){this.phaseService.phaseState$.subscribe(e=>{e.currentPhase===Wi.WORK?this.router.navigate(["/"]):this.router.navigate(["/mi-isla"])})}showRecreationAccessDeniedDialog(){let e={message:"Ya has entrado en tu isla hoy. Podr\xE1s volver a visitarla ma\xF1ana, tras completar una nueva jornada.",confirmButtonText:"Entendido",cancelButtonText:"",showCancelButton:!1};this.dialog.open(ze,{width:"90%",maxWidth:"400px",data:e})}static{this.\u0275fac=function(n){return new(n||r)(j(Le),j(mt),j(gt))}}static{this.\u0275cmp=Z({type:r,selectors:[["app-root"]],decls:1,vars:0,template:function(n,i){n&1&&V(0,"router-outlet")},dependencies:[te,ut],encapsulation:2})}}return r})();si(da,ca).catch(r=>console.error(r));
/**i18n:cbc6eedd78daabc21d38dc76dc1d9c98cb25f2a080c64096148af3a26e2a8f0f*/
